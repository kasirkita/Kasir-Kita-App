(this.webpackJsonpschedio=this.webpackJsonpschedio||[]).push([[0],{161:function(e,a,t){e.exports=t(340)},337:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT4AAABrCAYAAADuDO7AAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsbSURBVHgB7Z3tcdSwFoadO/c/UEGgAqACkgqACoAKgAoSKgAqACoAKghUAFQAqQA68N03c09GUSRb8vpDip5nxjNk2V1rZevVOUfnyAf9jg4AoCH+0wEANAbCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBzIHwA0BwIHwA0B8IHAM2B8AFAcyB8ANAcCB8ANAfCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBzIHwA0BwIHwA0B8IHAM2B8AFAcyB8ANAcCB8ANAfCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBz/LerjG/fvnXv37/vfv782S3N7du3L47nz593z5496wDgZlCV8L1586Y7PT3t1kZi++fPn+7k5KQDgPo56Hd0FSDxOT4+7rbk7OysOzo66gCgbqqJ8X39+rXbmhLaAAD7U42r++/fvyt/P3nypHv8+HG3JBK6L1++RNsAAHVS3eKG8eDBg4tFhyU5Pz+/InwAcDMgnQUAmgPhA4DmQPgAoDmqjfHdNJSjqFxBFy3eaBFniFgyt2KgL1++7MYIfT7lvENoEUix0e/fv198t/7Wb7t79+7lkXIOfe7169fXXn/79u1FYrnLixcvuhQsKf3+/fsXfaS2zIF+68ePHy///vDhQ/Jn/Wuv66a2GepLyyhQ2/X7DZ1T556LUN/6qK1qc6g91dBXwm4hQ/mGl8fp6Wm/NDqHe061YSmOjo6unCvlN/rts2M3mPvfv3/3Kei9/ufVlqmoTbvBEGxXqJ27gRv9Lv2G0OdCvy3lfKFDv/Xz58/9vuyE7sr3pvLq1asrnzs5Obn2Hvc6q89c/HGx75Fy3/jnPDs762sDV7dSZEnFqlh2AznJkrGKlNDrOnKQdfbw4cOLNqWm/ejcWpk362EL9DufPn26SRt0znfv3l3+rcqgLSqTcvHvjRrzW3F1K0SCocEaQoPHdZOG+PTpU/T/5D7lVKmoPVPrpzXY5TKluOZLYYK9ltvml1+qFnyK6Km9Q6WUEqWdVXnxb02Gqj4aYmzClGvtT5Z6TW0Yc5FLAuGrEIlMyFKTcKQOHg1yNyblI0sktTZZ3xOyEE3MJMT6t86pgRg6r9qtuN9cMTehGKI7GHV+HRZ39NFvVhuWLkvUhONeJ/WPa/nlYDHLGLdu3bry9779606Wdk116PUtJ65cEL7KkKUQsqx0Q+cMnrHEbN3MErMUEQhZjmZd+ANNYqQBIrfYP5++Z86NIHSeWPslPCH3VsK8pPDp2pkFJtQ/Ck3UYC1psrUJTu3VAo55HrqfahI+YnwVIUspZNGluDA+Q26ukRr32gXEr72mwR2zLmThuIPfWLNKRv0YErgl22AhCrM2Y5NDqbhWvSYw9Z8Jtv6vppJOhK8SNGhCqR0idTHD/S7fNdVNfHh4eOW1mEuYwpgFo3QSn7UHTmiPxVAIYQ70vdpdyL5f/VOT6Al3IlTf2V6VhlKjagHhqwAJggZNSBhyFjOM0A2qG9nPhTP3c4w7d+5ce20ofig0YPq+v3KELMclWUt0fNETtYmemwGgdpu17G4UMjVOuQUIXwWEkptFzmKGS8id04386NGjpPf6hBKRbf/EpSyoOQi1bW4x0uThL0ZpJTZ3stoadwJ0QwSuu2tx4RpA+ApHllNoJs1dzDBCuXu6eW0W993dlJw+CXDItdXn7t27dyGAGjilxYBiizJzovCEuxglCz0U3ywZq8Qx/AUo9/fU4u4ifAXjlga5WHxoCqHB7sa6QqVfYyVRao/ijDEkgHJt5RIf/18Et8RK4UKCPuezVXTtXJdfAlFDgrKPRM8mrVCZn9tn1Sxy9JUwd2nOlGPtkrWhY0qZ0N+/f4PlZG6Z0o8fP679vz6TgtoUKoHrJpSriX1L1tSnumbusXPLoyV1fjlYDn7JWqicMKeU0GWoZC2nXVN/n3tv6vvG3rPzRPrSqUb41JlLCVrqEbvoc5ArfLqJJWQ5+IPTxCGlLalCq4GdM0kNicEatbop7Ugh1LcxMc5lS+Hzr0Gsj9zxuU+t91pU4+r6O1asjcz7pXd8ziHmBg8x5uYaofy21HOpn5TYqhVaxYLGYmahFc+10e9dapVVCz9uDEyu4Ja1ybm4bbVYcAjf3S1+kaOviFxrYq5D7lGudZXLmMUXc89yLLEu0XoKvVfnn9oHaqOu25AbHLJg17D45gpfhCy+3UR9+Zv07ynXTWxp8bnXbMzjce9h7TpTMlWVrJk1oXSAtQKoY7WQayDLSbPtceDxmlqM2MXlRtsY2kFD/RlbaLA6TGOfeky13axIBftD6Tn6e+56T79WN5S4rcB9yh50ucg7kRVp36vFH5XpWZ8qxUXXreRcPt0z7nX69evXoLXq9mHxGxf0UAQxi2/nQly+x9+7rcuYXVMXHbqZ41MhZLGl7AO4r8XnW1WxxZ05rBPf4gtZx2rPlP7cyuLb17uaY5/DpSje4tMMLUuglERYzWCyJOZMe4ih87jpEJpBZaH4fTG2q0hs371c9D3KSXNjrbJc/CRnxUKHdiCWlaO4l5/PtvQ11rULpZSo/2Rpzml9hSwdXR9dQ7Oa1J9KqylxB2Ndi7HqmzGU07fPTt5LUrTw6aYosQxGA10CsPQN6y/m2I4YuS7vnHlzcn/cdoXEIkXA/O2S1kICp3vKD5VIjHK2i5+KRFd5keZyqy2qmClNINyQgK5x6q457qKb5fQV6e72hZKaHrDlMZaHlkPO1vMxFyTmsoXcOwXbdc6hww/I6/Bz+nz3rYu4mSm/QedzmdvVNWJb9u+zhXrO1vO+q68+HUql2cLVdduXuwDk3m9rPCJiCsUKX25e2xaHVnuX/L2xmyYWqwoN3tgEkpKzFhMe9xxqSyhep/Ypt8s/j94fi1X6A2wp4Yv13z4xzNxnbvgThi/6LmsLn5/Err9zcNubmvy+NsW6urk7dSh+snTczX+S1tSt1vdFroNcj9A2VXpNLq8RcnOH8rFcrH7XXwlV7MbiifaULX8rfLk4FsdzzzXkBs+5CekQsVif5Z8tuRGpoXOo3+wa6l4qJd7n1tsqrJGbP+tuo5+zoe2q9IVyeHiYZX0tWU5m+LP6PiVOPlOeshaziu1zMYsppwIl5BaGcvr0dLCc6+UfoaeLLWXxibmtvqlPWZPX4H4uFD5Z2+LLyd2L4d6ba4zNXG7cJgWaXQ4ODgYP3+rQYsHQ+1Of2bo2CsaHAseabWVBxLLnc2bfkBUd2qdP58zdEFWYxbh28b5ZfT5rVx3oGrp9pjZtmcHgP0xoqqXmLta4mxyUAruzVMzQapvEOpRsmurmuudI3aJdN7tCFBrMYwPG2q73b7VNU2w7rTVLyvydbYY2nV0Df9+9qSk+7oSZuqHtmhzI7OsKRB1+fn6e/H7LHbMNMIfQYHMvqN4/NMvbd2s2dK0/fcfauwbXhqU0uM+ZsANgK27cU9Y0S42JkT/oNOMOzbA1PS+0NIoLagN0N0j45sg0H2NsQ04AqINihU9blue4ultshYO7BlAnxS5urFELuy81tBEArlOs8GlBoWRhUdtK2pgUANIpdlXXUNyupN1Z5N4iegB1U7zwAQDMDQnMANAcCB8ANAfCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBzIHwA0BwIHwA0B8IHAM2B8AFAcyB8ANAcCB8ANAfCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBzIHwA0BwIHwA0B8IHAM2B8AFAcyB8ANAcCB8ANAfCBwDNgfABQHMgfADQHAgfADQHwgcAzYHwAUBz/A+PHTfS+5ddvwAAAABJRU5ErkJggg=="},338:function(e,a,t){},340:function(e,a,t){"use strict";t.r(a);var n,r=t(0),s=t.n(r),c=t(31),l=t.n(c),o=t(6),i=t(7),m=t(8),d=t(9),u=t(10),p=t(12),g=t(55),h=t(2),E=t(1),b=t(51),f=t.n(b),N=t(62),v=t(4),_=t.n(v);n="https://kasir-kita.herokuapp.com/api";var y=function(){return function(e,a){e({type:"CHECK_USER_PENDING"}),_.a.get("".concat(n,"/check")).then((function(a){e({type:"CHECK_USER_SUCCESS",userExists:a.data.user_exists})})).catch((function(a){a.response?e({type:"CHECK_USER_FAILED",error:a.response}):e({type:"CHECK_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},k=t(13),S=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"d-flex justify-content-center align-content-center mt-5"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h1",{className:"text-muted"},this.props.code," - ",this.props.title),s.a.createElement("p",{className:"text-muted"},this.props.message),s.a.createElement("br",null),!this.props.connection&&s.a.createElement(p.b,{className:"btn btn-primary mt-3",to:"/"},s.a.createElement("i",{className:"mdi mdi-home mr-2"})," Kembali ke rumah")))}}]),a}(r.Component),C=S,O=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"loading"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mdi-48px"}))}}]),a}(r.Component),D=O,T=t(15),j=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={agree:!1,email:"aplikasikasirkita@gmail.com",password:"secret"},t.componentDidMount=function(){t.props.checkUser()},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.checkUserExists!==t.props.checkUserExists&&!t.props.checkUserExists)return t.props.history.push("/welcome");if(e.loginFetching!==t.props.loginFetching&&t.props.loginFetched){if(t.props.loginSuccess)return a.add(t.props.loginMessage,{appearance:"success",autoDismiss:!0}),t.props.history.push(t.props.loginRedirect);a.add(t.props.loginMessage,{appearance:"error",autoDismiss:!0})}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSubmit=function(e){e.preventDefault(),t.props.login(t.state)},t.handleReset=function(){t.setState({agree:!1,email:"",password:""})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.checkFetching,t=e.checkError,n=e.loginFetching,r=e.loginError,c=this.state,l=c.email,o=c.password,i=r&&r.data&&r.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement("div",{className:"d-flex justify-content-center align-content-center mt-5"},a&&s.a.createElement(D,null),s.a.createElement("div",{className:"col-6"},s.a.createElement("h4",null,"Masuk"),s.a.createElement("p",{className:"text-muted"},"Silahkan masukan username dan password"),s.a.createElement("div",{className:"col p-0"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control ".concat(i&&i.email&&"is-invalid"),value:l,onChange:this.handleChange("email")}),i&&i.email&&s.a.createElement("div",{className:"invalid-feedback"},i.email[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Password ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"password",className:"form-control ".concat(i&&i.password&&"is-invalid"),value:o,onChange:this.handleChange("password")}),i&&i.password&&s.a.createElement("div",{className:"invalid-feedback"},i.password[0])),s.a.createElement("div",{className:"form-group mt-4"},n?s.a.createElement("button",{type:"button",className:"btn btn-primary btn-disabled mr-2",disabled:!0,alt:"loading"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading..."):s.a.createElement("button",{className:"btn btn-primary mr-2",type:"submit"},s.a.createElement("i",{className:"mdi mdi-lock mr-2"}),"Masuk"),s.a.createElement("button",{type:"reset",onClick:this.handleReset,className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))))}}]),a}(r.Component),x=Object(k.b)((function(e){return{checkFetching:e.checkUser.fetching,checkFetched:e.checkUser.fetched,checkUserExists:e.checkUser.userExists,checkError:e.checkUser.error,loginFetching:e.login.fetching,loginFetched:e.login.fetched,loginMessage:e.login.message,loginError:e.login.error,loginSuccess:e.login.success,loginRedirect:e.login.redirect}}),(function(e){return{checkUser:function(){return e(y())},login:function(a){return e(function(e){return function(a,t){var r=e.email,s=e.password;a({type:"LOGIN_PENDING"}),_.a.post("".concat(n,"/login"),{email:r,password:s}).then((function(e){var t=e.data.setting;sessionStorage.setItem("decimal_separator",t?t.decimal_separator:"."),sessionStorage.setItem("thousand_separator",t?t.thousand_separator:"."),sessionStorage.setItem("currency",t?t.currency:""),sessionStorage.setItem("printer",t?t.printer:""),sessionStorage.setItem("tax",t?t.tax:""),sessionStorage.setItem("logo",t.logo_url),sessionStorage.setItem("logo_remove",!!t.logo_remove&&t.logo_remove),sessionStorage.setItem("shop_name",t.name?t.name:""),sessionStorage.setItem("address",t.address?t.address:""),sessionStorage.setItem("phone_number",t.phone_number?t.phone_number:""),sessionStorage.setItem("divider",t.divider?t.divider:""),a({type:"LOGIN_SUCCESS",token:e.data.token,data:e.data.data,message:e.data.message,permissions:e.data.permissions,redirect:e.data.redirect})})).catch((function(e){e.response?a({type:"LOGIN_FAILED",error:e.response}):a({type:"LOGIN_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(j)),P=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},this.props.children)}}]),a}(r.Component),w=P,A=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).handleLogout=function(){return sessionStorage.removeItem("token"),t.props.history.push("/login")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname.split("/")[1],a=sessionStorage.getItem("permissions")?JSON.parse(sessionStorage.getItem("permissions")).filter((function(e){return null!==e})):[];return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light bg-light"},s.a.createElement(p.b,{className:"navbar-brand pl-3",to:"/"},s.a.createElement("i",{className:"mdi mdi-desktop-classic mr-2"}),"Kasir Kita 2.0"),s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-link nav-link dropdown-toggle",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("img",{className:"rounded-circle mr-2",width:"25px",src:"null"!==sessionStorage.getItem("avatar")?sessionStorage.getItem("avatar"):t(94),alt:""})," Halo ",sessionStorage.getItem("name")),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},s.a.createElement("button",{onClick:this.handleLogout,className:"btn btn-link nav-link active pointer"},s.a.createElement("i",{className:"mdi mdi-lock-open mr-2"}),"Keluar"))))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"col-md-2 p-0"},s.a.createElement("ul",{className:"nav flex-column nav-pills"},a&&a.length>0&&a.map((function(a){return a.children&&a.children.length>0?s.a.createElement("li",{className:"dropdown ".concat(e===a.slug||a.children.map((function(e){return e.slug})).includes(e)?"dropdown-active":""),key:a._id},s.a.createElement("a",{href:"/",className:"nav-link dropdown-toggle pointer",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"mdi mdi-calendar-text mr-2"})," ",a.name),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},a.children.map((function(e){return s.a.createElement(p.c,{key:e._id,className:"dropdown-item",to:"/".concat(e.slug)},e.name)})))):s.a.createElement("li",{className:"nav-item",key:a._id},s.a.createElement(p.c,{className:"nav-link",to:"/".concat(a.slug)},s.a.createElement("i",{className:a.icon})," ",a.name))})))),s.a.createElement("div",{className:"col-md-10"},this.props.children)))}}]),a}(r.Component),I=A,U=t(152),L=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={sales:"",purchase:"",income:"",profit:"",bestSeller:[],almostOut:[],labels:[],dataPurchase:[],dataSales:[]},t.getSummary=function(){_.a.get("".concat(n,"/dashboard"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data,n=a.sales,r=a.income,s=a.purchase,c=a.profit;t.setState(Object(E.a)({},t.state,{sales:n,income:r,purchase:s,profit:c}))})).catch((function(e){console.log(e.response.data)}))},t.getBestSeller=function(){_.a.get("".concat(n,"/dashboard/best-seller"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data.data;t.setState(Object(E.a)({},t.state,{bestSeller:a}))})).catch((function(e){console.log(e.response.data)}))},t.getAlmostOut=function(){_.a.get("".concat(n,"/dashboard/almost-out"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data.data;t.setState(Object(E.a)({},t.state,{almostOut:a}))})).catch((function(e){console.log(e.response.data)}))},t.getChart=function(){_.a.get("".concat(n,"/dashboard/chart"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data;t.setState(Object(E.a)({},t.state,{labels:a.labels,dataPurchase:a.data_purchase,dataSales:a.data_sales}))})).catch((function(e){console.log(e.response.data)}))},t.componentDidMount=function(){t.getSummary(),t.getBestSeller(),t.getAlmostOut(),t.getChart()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){if(!sessionStorage.getItem("token"))return s.a.createElement(g.a,{to:"/login"});var e=this.state,a=e.sales,t=e.purchase,n=e.income,c=e.profit,l=e.bestSeller,o=e.almostOut,i={labels:e.labels,datasets:[{label:"Penjualan",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:e.dataSales,fill:!1},{label:"Pembelian",backgroundColor:"rgb(0, 123, 255)",borderColor:"rgb(0, 123, 255)",data:e.dataPurchase,fill:!1}]};return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Dashboard"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},"Penjualan"),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Total Penjualan hari ini"),s.a.createElement("h6",{className:"text-right"},a)))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},"Pembelian"),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Total Pendapatan hari ini"),s.a.createElement("h6",{className:"text-right"},t)))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},"Total Pendapatan"),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Total Pendapatan hari ini"),s.a.createElement("h6",{className:"text-right"},n)))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},"Keuntungan"),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Total keuntungan hari ini"),s.a.createElement("h6",{className:"text-right"},c)))),s.a.createElement("div",{className:"col-md-6 mt-4"},s.a.createElement("h4",{className:"text-secondary mb-3"},"Produk Terlaris hari ini"),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Nama"),s.a.createElement("th",null,"Harga Jual"),s.a.createElement("th",null,"Terjual"))),s.a.createElement("tbody",null,l&&l.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.product_name),s.a.createElement("td",null,e.price),s.a.createElement("td",null,"x",e.qty))}))))),s.a.createElement("div",{className:"col-md-6 mt-4"},s.a.createElement("h4",{className:"text-secondary mb-3"},"Stok hampir habis"),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Nama"),s.a.createElement("th",null,"Harga Jual"),s.a.createElement("th",null,"Tersisa"))),s.a.createElement("tbody",null,o&&o.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.price_formatted),s.a.createElement("td",null,e.qty&&e.qty.amount," ",e.unit&&e.unit.name))}))))),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("h4",{className:"text-secondary mb-3"},"Grafik penjualan dan pembelian hari ini"),s.a.createElement(U.a,{data:i}))))}}]),a}(r.Component),M=L,R=t(21),G=t(22),F=t.n(G),K=t(26),H=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).handleChangeNumber=function(e){var a=t.props.handleChangeNumber,n=void 0!==a&&a;n&&n(e)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.value,n=a.validate,r=a.name,c=a.type,l=void 0!==c&&c;return s.a.createElement(K.a,{displayType:l||"input",decimalSeparator:"null"===sessionStorage.getItem("decimal_separator")?"":sessionStorage.getItem("decimal_separator"),thousandSeparator:"null"===sessionStorage.getItem("thousand_separator")?"":sessionStorage.getItem("thousand_separator"),prefix:"null"===sessionStorage.getItem("currency")?"":sessionStorage.getItem("currency"),type:"text",className:"text"!==l?"form-control text-right ".concat(n&&n[r]&&"is-invalid"," "):"",onValueChange:function(a){return e.handleChangeNumber(a)},value:t,placeholder:"".concat("null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," ").concat("null"!==sessionStorage.getItem("decimal_separator")?"0".concat(sessionStorage.getItem("decimal_separator"),"0"):"00"," ")})}}]),a}(s.a.Component),Y=H,B=t(29),z=t(16),q=t.n(z),V=function(e){return function(a,t){a({type:"GET_SALES_PENDING"}),_.a.get("".concat(n,"/sales/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_SALES_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_SALES_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_SALES_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},X=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={number:"",carts:[],payModal:!1,code:"",customer_id:null,customer_name:null,customer_type:null,products:[],keyword:"",cash:"",payment:"cash",withPrint:!1},t.handlePayModal=function(){t.state.carts.length>0?t.setState(Object(E.a)({},t.state,{payModal:!0})):t.props.toastManager.add("Belanjaan kosong!",{appearance:"error",autoDismiss:!0})},t.handleClosePayModal=function(){t.setState(Object(E.a)({},t.state,{payModal:!1}))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),Object(h.a)(n,"".concat(e,"_type"),a.type),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),Object(h.a)(r,"".concat(e,"_type"),null),r)))}},t.handleKeyPress=function(e){"Enter"===e.key&&""!==t.state.code&&(t.handleScan(e.target.value),t.setState(Object(E.a)({},t.state,{code:""})))},t.handleChoose=function(e){t.handleScan(e),t.setState(Object(E.a)({},t.state,{keyword:"",products:[]}))},t.handleChangeKeyword=function(e){t.setState(Object(E.a)({},t.state,{keyword:e.target.value})),t.getProduct(e.target.value)},t.getProduct=function(e){_.a.get("".concat(n,"/cashier/search"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t.setState(Object(E.a)({},t.state,{products:e.data.data}))})).catch((function(e){t.props.toastManager.add(e.response.data.message,{appearance:"error",autoDismiss:!0})}))},t.handleScan=function(e){_.a.get("".concat(n,"/cashier/cart/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data.data,n=t.state.carts,r=n.find((function(e){return e._id===a._id}));if(r){var s=n.findIndex((function(e){return e._id===a._id}));r.qty=r.qty+1,n[s]=r,t.setState(Object(E.a)({},t.state,{carts:n}))}else a.qty=1,t.setState(Object(E.a)({},t.state,{carts:[].concat(Object(R.a)(t.state.carts),[a])}))})).catch((function(e){t.props.toastManager.add(e.response.data.message,{appearance:"error",autoDismiss:!0})}))},t.handleUpdateQty=function(e,a){var n=t.state.carts,r=n.find((function(e){return e._id===a})),s=n.findIndex((function(e){return e._id===a}));r.qty=e,n[s]=r,t.setState(Object(E.a)({},t.state,{carts:n}))},t.handleDeleteCart=function(e){var a=t.state.carts.filter((function(a){return a._id!==e}));t.setState(Object(E.a)({},t.state,{carts:a}))},t.handleEmptyCart=function(){t.setState(Object(E.a)({},t.state,{carts:[]}))},t.handlePay=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"done",n=t.state,r=n.carts.reduce((function(e,a){return e+("wholesaler"===n.customer_type?a.wholesale*a.qty:a.price*a.qty)}),0),s=sessionStorage.getItem("tax");s=s>0?r*(s/100):0;var c=n.carts.reduce((function(e,a){var t=a.discount_amount?"fix"===a.type?a.discount_amount:a.price*(a.discount_amount/100):0;return e+(("="===a.term?a.qty>=a.total_qty:a.qty>a.total_qty)?a.customer_type?a.customer_type===n.customer_type?t:0:t:0)}),0);n=Object(E.a)({},n,{status:a,subtotal:r,total_discount:c,tax:s,change:n.cash-(r+s-c),total:r+s-c}),t.setState(Object(E.a)({},t.state,{withPrint:e})),t.props.saveSales(n)},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success||e.sales!==t.props.sales||t.props.carts!==e.carts){if("get"===t.props.type){var n=t.props.sales,r=n.number,s=n.customer,c=n.customer_name,l=n.customer_id,o=n.amount,i=n.payment_type,m=n.details;t.setState({number:r,customer_id:l,customer_name:c,customer_type:s&&s.type,cash:o,payment:i,carts:m?m.map((function(e){return Object(E.a)({},e.product,{qty:e.qty})})):[]})}"save"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.state.withPrint?t.handlePrint(t.props.carts):t.props.match.params.id?t.props.history.push("/cashier"):t.handleReset()):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))}},t.divider=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,t=[],n=0;n<a;n++)t.push(e);return t.join("")},t.handlePrint=function(e){var a=t.props.toastManager,n=e,r=sessionStorage.getItem("printer")?sessionStorage.getItem("printer"):"http://localhost:4000";n=Object(E.a)({},n,{logo:sessionStorage.getItem("logo"),cashier:sessionStorage.getItem("name"),logo_remove:"false"!==sessionStorage.getItem("logo_remove"),date:q()(new Date).format("DD MMM YYYY HH:mm"),shop_name:sessionStorage.getItem("shop_name"),address:sessionStorage.getItem("address"),divider:t.divider(sessionStorage.getItem("divider"),30),phone_number:sessionStorage.getItem("phone_number")}),_.a.post("".concat(r,"/receipt"),n).then((function(e){t.props.match.params.id?t.props.history.push("/cashier"):t.handleReset()})).catch((function(e){e.response?a.add(e.response.data.message,{appearance:"error",autoDismiss:!0}):a.add("Printer tidak tersambung",{appearance:"error",autoDismiss:!0})}))},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{carts:[],payModal:!1,code:"",customer_id:null,customer_name:null,customer_type:null,products:[],keyword:"",cash:"",payment:"cash"}))},t.componentDidMount=function(){t.props.match.params.id&&t.props.getSales(t.props.match.params.id)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.payModal,n=a.carts,c=a.code,l=a.customer_id,o=a.customer_name,i=a.products,m=a.keyword,d=a.customer_type,u=a.cash,p=a.payment,g=this.props.fetching,h=n.reduce((function(e,a){return e+("wholesaler"===d?a.wholesale*a.qty:a.price*a.qty)}),0),E=parseInt(sessionStorage.getItem("tax"));E=E>0?h*(E/100):0;var b=n.reduce((function(e,a){var t=a.discount_amount?"fix"===a.type?a.discount_amount:a.price*(a.discount_amount/100):0;return e+(("="===a.term?a.qty>=a.total_qty:a.qty>a.total_qty)?a.customer_type?a.customer_type===d?t:0:t:0)}),0);return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Kasir"),s.a.createElement("hr",null)),s.a.createElement(F.a,{visible:t,dialogClassName:"modal-lg",onClickBackdrop:this.handleClosePayModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleClosePayModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Bayar pesanan")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("table",{className:"table"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"border-0"},"Pelanggan"),s.a.createElement("td",{className:"border-0"},o||"-")),s.a.createElement("tr",null,s.a.createElement("td",null,"Subtotal"),s.a.createElement("td",null,s.a.createElement(Y,{value:h,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Pajak"),s.a.createElement("td",null,s.a.createElement(Y,{value:E,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Total Diskon"),s.a.createElement("td",null,"-",s.a.createElement(Y,{value:b,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Total Belanja"),s.a.createElement("td",null,s.a.createElement(Y,{value:h+E-b,type:"text"}))),"cash"===p&&s.a.createElement(r.Fragment,null,s.a.createElement("tr",null,s.a.createElement("td",null,"Pembayaran"),s.a.createElement("td",null,s.a.createElement(Y,{value:u,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Kembalian"),s.a.createElement("td",null,s.a.createElement(Y,{value:u-(h+E-b),type:"text"}))))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sistem Pembayaran"),s.a.createElement("select",{onChange:this.handleChange("payment"),value:p,className:"form-control"},s.a.createElement("option",{value:"cash"},"Tunai"),s.a.createElement("option",{value:"card"},"Kartu Debit / Kredit"))),"cash"===p&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pembayaran"),s.a.createElement("div",{className:"col p-0 mb-3"},s.a.createElement("div",{className:"btn-group mb-2",role:"group","aria-label":"Basic example"},s.a.createElement("button",{type:"button",value:5e3,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 5","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:1e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 10","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:15e3,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 15","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000")),s.a.createElement("div",{className:"btn-group mb-2",role:"group","aria-label":"Basic example"},s.a.createElement("button",{type:"button",value:2e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 20","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:25e3,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 25","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:3e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 30","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000")),s.a.createElement("div",{className:"btn-group mb-2",role:"group","aria-label":"Basic example"},s.a.createElement("button",{type:"button",value:5e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 50","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:7e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 70","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"),s.a.createElement("button",{type:"button",value:1e4,onClick:this.handleChange("cash"),className:"btn btn-info"},"null"!==sessionStorage.getItem("currency")?sessionStorage.getItem("currency"):""," 100","null"!==sessionStorage.getItem("thousand_separator")?sessionStorage.getItem("thousand_separator"):"","000"))),s.a.createElement(Y,{value:u,handleChangeNumber:this.handleChangeNumber("cash"),className:"form-control text-right",placeholder:"Rp. 0"}))))),s.a.createElement("div",{className:"modal-footer"},g?s.a.createElement("button",{className:"btn btn-default btn-disabled",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading..."):s.a.createElement(r.Fragment,null,s.a.createElement("button",{onClick:function(){return e.handlePay(!0)},className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-cash mr-2"}),"Bayar dan cetak"),s.a.createElement("button",{onClick:function(){return e.handlePay(!1)},className:"btn btn-success mr-2"},s.a.createElement("i",{className:"mdi mdi-cash mr-2"}),"Bayar tanpa cetak"),s.a.createElement("button",{onClick:function(){return e.handlePay(!1,"hold")},className:"btn btn-success mr-2"},s.a.createElement("i",{className:"mdi mdi-clock mr-2"}),"Tahan")))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link active",id:"barcode-tab","data-toggle":"tab",href:"#barcode",role:"tab","aria-controls":"barcode","aria-selected":"true"},"Barcode")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",id:"manual-tab","data-toggle":"tab",href:"#manual",role:"tab","aria-controls":"manual","aria-selected":"true"},"Manual Input"))),s.a.createElement("div",{className:"tab-content mt-4",id:"myTabContent"},s.a.createElement("div",{className:"tab-pane fade show active",id:"barcode",role:"tabpanel","aria-labelledby":"barcode-tab"},s.a.createElement("input",{value:c,onChange:this.handleChange("code"),onKeyPress:this.handleKeyPress,type:"text",className:"form-control form-control-lg",placeholder:"Pindai disini"})),s.a.createElement("div",{className:"tab-pane fade autocomplete-wrapper",id:"manual",role:"tabpanel","aria-labelledby":"manual-tab"},s.a.createElement("input",{value:m,onChange:this.handleChangeKeyword,type:"text",className:"form-control form-control-lg",placeholder:"Ketik nama barang atau barcode"}),s.a.createElement("div",{className:"autocomplete"},s.a.createElement("ul",{className:"autocomplete-list m-0"},i&&i.map((function(a){return s.a.createElement("li",{key:a._id,onClick:function(){return e.handleChoose(a.code)}},"".concat(a.code," - ").concat(a.name))}))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pelanggan"),s.a.createElement(B.a,{isClearable:!0,placeholder:"Pilih pelanggan",loadOptions:Q,value:l?{label:o,value:l}:null,onChange:this.handleChangeSelect("customer"),cacheOptions:!0,defaultOptions:!0})),s.a.createElement("table",{className:"table table-scrollable-two"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Nama"),s.a.createElement("th",{className:"text-right"},"Harga Jual"),s.a.createElement("th",{className:"text-center"},"Qty"),s.a.createElement("th",{className:"text-center"},"Diskon"),s.a.createElement("th",{className:"text-right"},"Subtotal"))),s.a.createElement("tbody",null,n?n.map((function(a){var t,n=a.discount_amount?"fix"===a.type?a.discount_amount:a.price*(a.discount_amount/100):0;t=("="===a.term?a.qty>=a.total_qty:a.qty>a.total_qty)?a.customer_type?a.customer_type===d?n:0:n:0;var r="wholesaler"===d?a.wholesale*a.qty-t:a.price*a.qty-t;return s.a.createElement("tr",{key:a._id},s.a.createElement("td",{style:{width:"195px"}},a.name),s.a.createElement("td",{style:{width:"195px"},className:"text-right"},"wholesaler"===d?a.wholesale_formatted:a.price_formatted),s.a.createElement("td",{style:{width:"195px"},className:"text-center",width:"120"},s.a.createElement("input",{style:{width:"50%",margin:"auto"},type:"number",value:a.qty,min:"1",onChange:function(t){return e.handleUpdateQty(t.target.value,a._id)},className:"form-control text-right"})),s.a.createElement("td",{style:{width:"195px"},className:"text-right"},s.a.createElement(Y,{value:t,type:"text"})),s.a.createElement("td",{style:{width:"195px"},className:"text-right"},s.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end"}},s.a.createElement(Y,{value:r,type:"text"}),s.a.createElement("button",{onClick:function(){return e.handleDeleteCart(a._id)},className:"btn btn-link text-danger btn-remove p-0 pl-2"},"\xd7"))))})).sort().reverse():s.a.createElement("tr",{style:{display:"flex"}},s.a.createElement("td",{colSpan:"5",style:{margin:"auto"},className:"text-center"},"Belum ada data"))),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-right",colSpan:"5",style:{width:"80%"}},"Total"),s.a.createElement("th",{className:"text-right",style:{width:"1%"}},s.a.createElement(Y,{type:"text",value:h})))))),s.a.createElement("div",{className:"col-md-12 mt-3 text-right"},s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handlePayModal},s.a.createElement("i",{className:"mdi mdi-cash mr-2"}),"Bayar"),s.a.createElement("button",{className:"btn btn-success mr-2 ".concat(g?"btn-disabled":""),disabled:g,onClick:function(){return e.handlePay(!1,"hold")}},g?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-clock mr-2"})," Tahan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleEmptyCart},s.a.createElement("i",{className:"mdi mdi-delete mr-2"}),"Hapus transaksi"))))}}]),a}(r.Component),J=function(e){return Object(R.a)(e)},Q=function(e,a){_.a.get("".concat(n,"/customer/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var t;a((t=e.data.data,J(t)))}))},W=Object(k.b)((function(e){return Object(E.a)({},e,{fetching:e.sales.fetching,fetched:e.sales.fetched,message:e.sales.message,success:e.sales.success,sales:e.sales.sales,type:e.sales.type,carts:e.sales.carts})}),(function(e){return{saveSales:function(a){return e(function(e){return function(a,t){var r=e.number,s=e.customer_id,c=e.customer_name,l=e.customer_type,o=e.payment,i=e.subtotal,m=e.cash,d=e.change,u=e.carts,p=e.tax,g=e.total_discount,h=e.total,E=e.status;a({type:"SAVE_SALES_PENDING"}),_.a.post("".concat(n,"/cashier"),{number:r,customer_id:s,customer_name:c,customer_type:l,payment_type:o,subtotal:i,amount:m,change:d,tax:p,total_discount:g,status:E,total:h,details:u},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_SALES_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_SALES_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_SALES_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},getSales:function(a){return e(V(a))}}}))(Object(T.withToastManager)(X)),Z=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.theads,t=e.ordering,n=e.handleSorting,r=a.map((function(e,a){return s.a.createElement("th",{key:a,className:e.className&&e.className,id:e.name,onClick:n},e.value,e.sortable&&s.a.createElement("div",{className:"table-sorting ".concat(t.type===e.name&&"active")},t.type===e.name?s.a.createElement("i",{className:"mdi mdi-".concat("asc"===t.sort?"sort-ascending":"sort-descending")}):s.a.createElement("i",{className:"mdi mdi-sort"})))}));return s.a.createElement("table",{className:"table table-bordered table-custom table-responsive"},s.a.createElement("thead",null,s.a.createElement("tr",null,r)),s.a.createElement("tbody",null,this.props.children))}}]),a}(s.a.Component),$=Z,ee=function(e){return function(a,t){a({type:"GET_PRODUCT_PENDING"}),_.a.get("".concat(n,"/product/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_PRODUCT_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},ae=t(159),te=t(34),ne=t.n(te),re=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={ordering:{type:"name",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all",downloading:!1,printing:!1},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchProduct(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchProduct({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchProduct({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteProduct(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchProduct({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleDrop=function(e){e&&e.map((function(e){return t.props.importProduct(e)}))},t.handleDropFail=function(e){var a=t.props.toastManager;t.setState(Object(E.a)({},t.state,{modal:!1})),e.length>1?a.add("Hanya boleh satu berkas saja",{appearance:"error",autoDismiss:!0}):e.map((function(e){return e.size>102400&&a.add("Ukuran berkas terlalu besar maksimal 1Mb",{appearance:"error",autoDismiss:!0}),"text/csv"!==e.type&&a.add("Format berkas tidak didukung",{appearance:"error",autoDismiss:!0}),!0}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleProduct(a)},t.handleSelected=function(e){var a=e.target.value;t.props.selectProduct(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||("delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchProduct(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"import"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{modal:!1})),t.props.fetchProduct(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})))},t.handleDownload=function(){t.setState(Object(E.a)({},t.state,{downloading:!0})),_.a.get("".concat(n,"/product/template"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){ne()(e.data,"template_produk.csv"),t.setState(Object(E.a)({},t.state,{downloading:!1,modal:!1}))}))},t.handlePrintPdf=function(){t.setState(Object(E.a)({},t.state,{printing:!0})),_.a.get("".concat(n,"/product/print"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"print_label.pdf"),t.setState(Object(E.a)({},t.state,{printing:!1,modal:!1}))}))},t.handlePrintThermal=function(){t.setState(Object(E.a)({},t.state,{printing:!0})),_.a.get("".concat(n,"/product/print-thermal"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t.handlePrintLabel(e.data.data)}))},t.handlePrintLabel=function(e){var a=t.props.toastManager,n=sessionStorage.getItem("printer");_.a.post("".concat(n,"/label"),{data:e}).then((function(e){a.add(e.data.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{printing:!1,modal:!1}))})).catch((function(e){e.response?a.add(e.response.data.message,{appearance:"error",autoDismiss:!0}):a.add("Printer tidak tersambung",{appearance:"error",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{loadingTestReceipt:!1}))}))},t.handlePrint=function(e){return function(a){var n=t.props,r=n.selected,s=n.toastManager;r<1?s.add("Harap pilih dulu data",{appearance:"warning",autoDismiss:!0}):"thermal"===e?t.handlePrintThermal():t.handlePrintPdf()}},t.componentDidMount=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchProduct({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.modal,c=a.deleteModal,l=a.downloading,o=a.printing,i=a.perpage,m=this.props,d=m.data,u=m.fetching,g=m.error,h=m.uploading,E=m.selected,b=d&&d.data;return g&&422!==g.status?s.a.createElement(C,{title:g.statusText,message:g.data.message,code:g.status,connection:g.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:n,dialogClassName:"modal-md",onClickBackdrop:this.handleCloseModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Impor data barang")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(ae.a,{onDrop:function(a){return e.handleDrop(a)},multiple:!1,onDropRejected:function(a){return e.handleDropFail(a)},accept:".csv",maxSize:102400},(function(e){var a=e.getRootProps,t=e.getInputProps;return s.a.createElement("div",{className:"dropzone-wrapper text-center py-4 my-3 ".concat(h?"uploading":"")},s.a.createElement("section",null,s.a.createElement("p",{className:"text-muted"},"Seret dan lepaskan"),s.a.createElement("div",a(),s.a.createElement("input",t()),h?s.a.createElement("button",{className:"btn btn-primary btn-disabled",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Mengunggah ..."):s.a.createElement("button",{className:"btn btn-primary"},s.a.createElement("i",{className:"mdi mdi-folder-open mr-2"}),"Jelajahi Berkas"))))})),s.a.createElement("div",{className:"row d-flex justify-content-start"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"col-12"},s.a.createElement("small",{className:"text-muted"},"* Format berkas .csv delimeter (;)")),s.a.createElement("div",{className:"col-12"},s.a.createElement("small",{className:"text-muted"},"* Ukuran maks 1Mb"))),s.a.createElement("div",{className:"col-5"},s.a.createElement("div",{className:"col-12  d-flex justify-content-end"},l?s.a.createElement("button",{className:"btn btn-success btn-sm btn-disabled",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdri-spin mr-2"}),"Mengunduh"):s.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.handleDownload},s.a.createElement("i",{className:"mdi mdi-download mr-2"}),"Unduh template")))))),s.a.createElement(F.a,{visible:c,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus barang")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan barang")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Barang"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/product/create",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"),s.a.createElement("button",{className:"btn btn-secondary mr-2",onClick:this.handleModal},s.a.createElement("i",{className:"mdi mdi-arrow-up-thick mr-2"}),"Impor Data Barang")),s.a.createElement("div",{className:"d-flex justify-content-start mt-2"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"disabled":""),disabled:o,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-printer mr-2"}),"Cetak label"),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement("button",{className:"dropdown-item pointer",onClick:this.handlePrint("thermal")},"Cetak dengan thermal"),s.a.createElement("button",{className:"dropdown-item pointer",onClick:this.handlePrint("pdf")},"Cetak dengan PDF"))),s.a.createElement("div",{className:"d-flex justofy-content-start mt-2"},s.a.createElement("small",{className:"text-muted"},"Barang terpilih (",E||0,")"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"),s.a.createElement("option",{value:"selected"},"Hanya yang dipilih"),s.a.createElement("option",{value:"unselected"},"Hanya yang tidak dipilih"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"category",value:"Kategori",sortable:!0},{name:"price",value:"Harga Jual",sortable:!0},{name:"stock",value:"Stok",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},u?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):b&&b.length>0?b.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,s.a.createElement("div",{className:"form-check mt-0"},s.a.createElement("input",{className:"form-check-input",id:a._id,onClick:e.handleSelected,value:a._id,type:"checkbox",defaultChecked:!!a.selected}),s.a.createElement("label",{className:"form-check-label",htmlFor:a._id},a.name))),s.a.createElement("td",null,a.category&&a.category.name),s.a.createElement("td",{className:"text-right"},a.price_formatted),s.a.createElement("td",{className:"text-center"},a.qty&&a.qty.amount," ",a.unit&&a.unit.name," "),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{onClick:e.handleActive,value:a._id,type:"checkbox",defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/product/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-3"},"Ubah"),s.a.createElement(p.b,{to:"/product/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm"},"Lihat")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},d&&d.total>1&&s.a.createElement("p",null,"Menampilkan ",d&&d.from.toLocaleString()," s/d ",d&&d.to.toLocaleString()," dari ",d&&d.total.toLocaleString()," data"),d&&d.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},d.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(d.current_page-1)},className:"page-link"},"Prev")),d.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===d.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),d.current_page<d.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(d.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:i,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),se=Object(k.b)((function(e){return{fetching:e.product.fetching,error:e.product.error,data:e.product.data,type:e.product.type,success:e.product.success,message:e.product.message,uploading:e.product.uploading,selected:e.product.selected}}),(function(e){return{fetchProduct:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_PRODUCT_PENDING"}),_.a.get("".concat(n,"/product"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_PRODUCT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_PRODUCT_FAILED",error:e.response}):a({type:"FETCH_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleProduct:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_PRODUCT_PENDING"}),_.a.delete("".concat(n,"/product/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_PRODUCT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteProduct:function(a){return e(function(e){return function(a,t){a({type:"DELETE_PRODUCT_PENDING"}),_.a.delete("".concat(n,"/product/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_PRODUCT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},importProduct:function(a){return e((t=a,function(e,a){e({type:"IMPORT_PRODUCT_PENDING"});var r=new FormData;r.append("file",t),_.a.post("".concat(n,"/product/import"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(a){e({type:"IMPORT_PRODUCT_SUCCESS",message:a.data.message,success:!0})})).catch((function(a){a.response?e({type:"IMPORT_PRODUCT_FAILED",error:a.response,message:a.response.data.message}):e({type:"IMPORT_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}));var t},selectProduct:function(a){return e(function(e){return function(a,t){a({type:"SELECT_PRODUCT_PENDING"}),_.a.get("".concat(n,"/product/select/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SELECT_PRODUCT_SUCCESS",message:e.data.message,selected:e.data.selected,success:!0})})).catch((function(e){e.response?a({type:"SELECT_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):a({type:"SELECT_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(re)),ce=t(68),le=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={code:"",name:"",cost:"",price:"",wholesale:"",unit_id:"",unit_label:"",category_id:"",category_label:"",stock:""},t.handleSave=function(){t.props.saveProduct(t.state)},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_label"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_label"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.componentDidUpdate=function(e){if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){var a=t.props.toastManager;if(t.props.success){if(!t.props.isModal)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/product");t.props.onFinish()}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isModal,t=e.error,n=e.fetching,c=this.state,l=c.code,o=c.name,i=c.cost,m=c.price,d=c.wholesale,u=c.unit_id,g=c.unit_label,h=c.category_id,E=c.category_label,b=c.stock,f=t&&t.data&&t.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},!a&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Barang")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/product"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kode ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control ".concat(f&&f.code&&"is-invalid"),onChange:this.handleChange("code"),value:l,placeholder:"Kode Barang"}),f&&f.code&&s.a.createElement("div",{className:"invalid-feedback"},f.code[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control ".concat(f&&f.name&&"is-invalid"),onChange:this.handleChange("name"),value:o,placeholder:"Nama Barang"}),f&&f.name&&s.a.createElement("div",{className:"invalid-feedback"},f.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Beli ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"cost",value:i,validate:f,handleChangeNumber:this.handleChangeNumber("cost")}),f&&f.cost&&s.a.createElement("div",{className:"invalid-feedback"},f.cost[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Jual ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"price",value:m,validate:f,handleChangeNumber:this.handleChangeNumber("price")}),f&&f.price&&s.a.createElement("div",{className:"invalid-feedback"},f.price[0]))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Grosir ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"wholesale",value:d,validate:f,handleChangeNumber:this.handleChangeNumber("wholesale")}),f&&f.wholesale&&s.a.createElement("div",{className:"invalid-feedback"},f.wholesale[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Satuan"),s.a.createElement(ce.a,{isClearable:!0,onChange:this.handleChangeSelect("unit"),value:u&&{label:g,value:u},placeholder:"Pilih atau ketik baru",loadOptions:de,cacheOptions:!0,defaultOptions:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kategori"),s.a.createElement(ce.a,{isClearable:!0,onChange:this.handleChangeSelect("category"),value:h&&{label:E,value:h},placeholder:"Pilih atau ketik baru",loadOptions:ie,cacheOptions:!0,defaultOptions:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Stok ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control text-right ".concat(f&&f.stock&&"is-invalid"),onChange:this.handleChange("stock"),value:b,placeholder:"0.0"}),f&&f.stock&&s.a.createElement("div",{className:"invalid-feedback"},f.stock[0])))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),n?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),oe=function(e){return Object(R.a)(e)},ie=function(e,a){_.a.get("".concat(n,"/category/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e.name}}));return oe(a)}(e.data.data))}))},me=function(e){return Object(R.a)(e)},de=function(e,a){_.a.get("".concat(n,"/unit/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e.name}}));return me(a)}(e.data.data))}))},ue=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.product.message,fetching:e.product.fetching,error:e.product.error,success:e.product.success,type:e.product.type})}),(function(e){return{saveProduct:function(a){return e(function(e){return function(a,t){var r=e.code,s=e.name,c=e.cost,l=e.price,o=e.wholesale,i=e.unit_id,m=e.unit_label,d=e.category_id,u=e.category_label,p=e.stock;a({type:"SAVE_PRODUCT_PENDING"}),_.a.post("".concat(n,"/product"),{code:r,name:s,cost:c,price:l,wholesale:o,unit_id:i,unit_label:m,category_id:d,category_label:u,stock:p},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_PRODUCT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(le)),pe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},deleteModal:!1,createModal:!1,keyword:"",page:1,perpage:10,deletedId:"",updatedId:"",filter:"all",title:"Tambah kategori baru",name:""},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchCategory({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchCategory({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleDelete=function(){t.props.deleteCategory(t.state.deletedId)},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1}))},t.handleCreateModal=function(){t.setState(Object(E.a)({},t.state,{createModal:!0}))},t.handleCloseCreateModal=function(){t.setState(Object(E.a)({},t.state,{createModal:!1,title:"Tambah kategori baru",name:"",updatedId:""}))},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchCategory(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchCategory({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleCategory(a)},t.handleUpdate=function(e){t.props.getCategory(e),t.setState(Object(E.a)({},t.state,{title:"Ubah kategori",createModal:!0}))},t.handleSubmit=function(){t.state.updatedId?t.props.updateCategory(t.state.updatedId,t.state):t.props.saveCategory(t.state)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||("delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchCategory(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"save"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.handleCloseCreateModal(),t.props.fetchCategory(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"update"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.handleCloseCreateModal(),t.props.fetchCategory(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))),t.props.category!==e.category&&t.setState(Object(E.a)({},t.state,{updatedId:t.props.category._id,name:t.props.category.name}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.ordering,t=e.keyword,n=e.page,r=e.perpage,s=e.filter;this.props.fetchCategory({ordering:a,keyword:t,page:n,perpage:r,filter:s})}},{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.createModal,l=a.perpage,o=a.title,i=a.updatedId,m=a.name,d=this.props,u=d.data,p=d.fetching,g=d.error,h=u&&u.data,E=g&&g.data&&g.data.errors;return g&&422!==g.status?s.a.createElement(C,{title:g.statusText,message:g.data.message,code:g.status,connection:g.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Kategori"),s.a.createElement("hr",null)),s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus kategori")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan kategori")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement(F.a,{visible:c,dialogClassName:"modal-md",onClickBackdrop:this.handleCloseCreateModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseCreateModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},o)),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama"),s.a.createElement("input",{type:"text",value:m,onChange:this.handleChange("name"),className:"form-control ".concat(E&&E.name?"is-invalid":""),placeholder:"Nama kategori"}),E&&E.name&&s.a.createElement("div",{className:"invalid-feedback"},E.name[0])))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseCreateModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary ".concat(p?"btn-disabled":""),disabled:p,onClick:this.handleSubmit},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),i?"Simpan Perubahan":"Simpan"))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement("button",{onClick:this.handleCreateModal,className:"btn btn-primary"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},p?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):h&&h.length>0?h.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{type:"checkbox",value:a._id,onClick:e.handleActive,defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-small mr-3"},"Hapus"),s.a.createElement("button",{onClick:function(){return e.handleUpdate(a._id)},className:"btn p-0 text-success btn-link btn-small"},"Ubah")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},u&&u.total>1&&s.a.createElement("p",null,"Menampilkan ",u&&u.from.toLocaleString()," s/d ",u&&u.to.toLocaleString()," dari ",u&&u.total.toLocaleString()," data"),u&&u.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},u.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(u.current_page-1)},className:"page-link"},"Prev")),u.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===u.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),u.current_page<u.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(u.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),ge=Object(k.b)((function(e){return{fetching:e.category.fetching,error:e.category.error,data:e.category.data,type:e.category.type,success:e.category.success,message:e.category.message,category:e.category.category}}),(function(e){return{fetchCategory:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_CATEGORY_PENDING"}),_.a.get("".concat(n,"/category"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_CATEGORY_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_CATEGORY_FAILED",error:e.response}):a({type:"FETCH_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleCategory:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_CATEGORY_PENDING"}),_.a.delete("".concat(n,"/category/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_CATEGORY_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_CATEGORY_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteCategory:function(a){return e(function(e){return function(a,t){a({type:"DELETE_CATEGORY_PENDING"}),_.a.delete("".concat(n,"/category/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_CATEGORY_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_CATEGORY_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},saveCategory:function(a){return e(function(e){return function(a,t){var r=e.name;a({type:"SAVE_CATEGORY_PENDING"}),_.a.post("".concat(n,"/category"),{name:r},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_CATEGORY_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_CATEGORY_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},getCategory:function(a){return e(function(e){return function(a,t){a({type:"GET_CATEGORY_PENDING"}),_.a.get("".concat(n,"/category/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_CATEGORY_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_CATEGORY_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},updateCategory:function(a,t){return e(function(e,a){return function(t,r){var s=a.name;t({type:"UPDATE_CATEGORY_PENDING"}),_.a.post("".concat(n,"/category/").concat(e),{name:s},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_CATEGORY_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_CATEGORY_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_CATEGORY_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))}}}))(Object(T.withToastManager)(pe)),he=t(20),Ee=t.n(he),be=(t(32),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={start_date:new Date,end_date:new Date,ordering:{type:"created_at",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all"},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.changeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)));var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage,m=n.filter;t.props.fetchSales(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i,filter:m},e,a))},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage,m=n.filter;t.props.fetchSales(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i,filter:m},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage,o=e.filter;t.props.fetchSales({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l,filter:o})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage,m=r.filter;t.props.fetchSales({ordering:{type:a,sort:"asc"===n?"desc":"asc"},start_date:s,end_date:c,keyword:l,page:o,perpage:i,filter:m}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteSales(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage,o=a.filter;t.props.fetchSales({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{page:e}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchSales(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage,l=e.filter;this.props.fetchSales({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c,filter:l})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.deleteModal,o=a.perpage,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var g=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:l,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus Penjualan")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, dan stok yang sudah berkurang tidak bisa kembali")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Penjualan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control"},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang sukses"),s.a.createElement("option",{value:"inactiv"},"Hanya yang di tahan"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"created_at",value:"Tanggal",sortable:!0},{name:"number",value:"#",sortable:!0},{name:"customer.name",value:"Pelanggan",sortable:!0},{name:"total",value:"Total Pesanan",sortable:!0},{name:"status",value:"Status",sortable:!0},{name:"payment_type",value:"Pembayaran",sortable:!0},{name:"options",value:"Opsi",sortable:!1}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"7"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):g&&g.length>0?g.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.created_at_formatted),s.a.createElement("td",null,a.number),s.a.createElement("td",null,a.customer&&a.customer.name),s.a.createElement("td",{className:"text-right"},a.total_formatted),s.a.createElement("td",null,"done"===a.status?s.a.createElement("span",{className:"badge badge-info"},"Selesai"):s.a.createElement("span",{className:"badge badge-warning"},"Ditahan")),s.a.createElement("td",null,"cash"===a.payment_type?"Tunai":"Kartu"),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),"done"===a.status?s.a.createElement(p.b,{to:"/sales/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm"},"Lihat"):s.a.createElement(r.Fragment,null,s.a.createElement(p.b,{to:"/sales/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm mr-2"},"Lihat"),s.a.createElement(p.b,{to:"/cashier/".concat(a._id),className:"btn p-0 text-warning btn-link btn-sm"},"Selesaikan"))))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"7"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:o,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component)),fe=Object(k.b)((function(e){return{fetching:e.sales.fetching,error:e.sales.error,data:e.sales.data,type:e.sales.type,success:e.sales.success,message:e.sales.message}}),(function(e){return{fetchSales:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter,i=e.start_date,m=e.end_date;a({type:"FETCH_SALES_PENDING"}),_.a.get("".concat(n,"/sales"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o,start_date:q()(i).format("YYYY-MM-DD"),end_date:q()(m).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_SALES_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_SALES_FAILED",error:e.response}):a({type:"FETCH_SALES_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteSales:function(a){return e(function(e){return function(a,t){a({type:"DELETE_SALES_PENDING"}),_.a.delete("".concat(n,"/sales/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_SALES_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_SALES_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_SALES_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(be)),Ne=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={payment_date_start:new Date,payment_date_end:new Date,ordering:{type:"number",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:""},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.payment_date_start,s=n.payment_date_end,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering;t.props.fetchPurchase(Object(h.a)({payment_date_start:r,payment_date_end:s,keyword:c,page:l,perpage:o,ordering:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.payment_date_start,n=e.payment_date_end,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchPurchase({payment_date_start:a,payment_date_end:n,ordering:r,keyword:s,page:c,perpage:l})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.payment_date_start,c=r.payment_date_end,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchPurchase({payment_date_start:s,payment_date_end:c,ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.changeDate=function(e,a){var n=t.state,r=n.payment_date_start,s=n.payment_date_end,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering;t.props.fetchPurchase(Object(h.a)({payment_date_start:r,payment_date_end:s,ordering:i,keyword:c,page:l,perpage:o},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deletePurchase(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.payment_date_start,r=a.payment_date_end,s=a.ordering,c=a.keyword,l=a.perpage,o=a.filter;t.props.fetchPurchase({payment_date_start:n,payment_date_end:r,ordering:s,keyword:c,page:e,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{page:e}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchPurchase(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.payment_date_start,t=e.payment_date_end,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchPurchase({payment_date_start:a,payment_date_end:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.payment_date_start,n=a.payment_date_end,c=a.ordering,l=a.deleteModal,o=a.perpage,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var g=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:l,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus pembelian")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, dan stok yang sudah bertambah tidak bisa dikembalikan")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pembelian Barang"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 mb-4"},s.a.createElement(p.b,{to:"/purchase/create",className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Pembelian Barang")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("payment_date_start",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("payment_date_end",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"payment_date",value:"Tanggal Pembelian",sortable:!0},{name:"number",value:"#",sortable:!0},{name:"supplier_name",value:"Pemasok",sortable:!0},{name:"total",value:"Total Pesanan",sortable:!0},{name:"in_charge_name",value:"Penanggung jawab",sortable:!0},{name:"options",value:"Opsi",sortable:!1}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):g&&g.length>0?g.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.payment_date_formatted),s.a.createElement("td",null,a.number),s.a.createElement("td",null,a.supplier&&a.supplier.name),s.a.createElement("td",{className:"text-right"},a.total_formatted),s.a.createElement("td",null,a.in_charge&&a.in_charge.name),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/purchase/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm mr-2"},"Lihat")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:o,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),ve=Object(k.b)((function(e){return{fetching:e.purchase.fetching,error:e.purchase.error,data:e.purchase.data,type:e.purchase.type,success:e.purchase.success,message:e.purchase.message}}),(function(e){return{fetchPurchase:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter,i=e.payment_date_start,m=e.payment_date_end;a({type:"FETCH_PURCHASE_PENDING"}),_.a.get("".concat(n,"/purchase"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o,payment_date_start:q()(i).format("YYYY-MM-DD"),payment_date_end:q()(m).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_PURCHASE_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_PURCHASE_FAILED",error:e.response}):a({type:"FETCH_PURCHASE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deletePurchase:function(a){return e(function(e){return function(a,t){a({type:"DELETE_PURCHASE_PENDING"}),_.a.delete("".concat(n,"/purchase/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_PURCHASE_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_PURCHASE_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_PURCHASE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ne)),_e=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={payment_date:new Date,modal:!1,products:[],carts:[],keyword:"",code:"",tax:"",total_discount:"",number:"",notes:"",supplier_id:"",supplier_name:"",in_charge_id:"",in_charge_name:""},t.changeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.openModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleKeyPress=function(e){"Enter"===e.key&&""!==t.state.code&&(t.handleScan(e.target.value),t.setState(Object(E.a)({},t.state,{code:""})))},t.handleChoose=function(e){t.handleScan(e),t.setState(Object(E.a)({},t.state,{keyword:"",products:[]}))},t.handleChangeKeyword=function(e){t.setState(Object(E.a)({},t.state,{keyword:e.target.value})),t.getProduct(e.target.value)},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.getProduct=function(e){_.a.get("".concat(n,"/cashier/search"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t.setState(Object(E.a)({},t.state,{products:e.data.data}))})).catch((function(e){t.props.toastManager.add(e.response.data.message,{appearance:"error",autoDismiss:!0})}))},t.handleScan=function(e){_.a.get("".concat(n,"/cashier/cart/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){var a=e.data.data,n=t.state.carts,r=n.find((function(e){return e._id===a._id}));if(r){var s=n.findIndex((function(e){return e._id===a._id}));r.qty=r.qty+1,n[s]=r,t.setState(Object(E.a)({},t.state,{carts:n}))}else a.qty=1,t.setState(Object(E.a)({},t.state,{carts:[].concat(Object(R.a)(t.state.carts),[a])}))})).catch((function(e){t.props.toastManager.add(e.response.data.message,{appearance:"error",autoDismiss:!0})}))},t.handleUpdateCart=function(e,a,n){var r=t.state.carts,s=r.find((function(e){return e._id===n})),c=r.findIndex((function(e){return e._id===n}));s[e]=a,r[c]=s,t.setState(Object(E.a)({},t.state,{carts:r}))},t.handleDeleteCart=function(e){var a=t.state.carts.filter((function(a){return a._id!==e}));t.setState(Object(E.a)({},t.state,{carts:a}))},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{carts:[]})),t.evidence.value=""},t.handleChangeFile=function(e){return function(a){var n=a.target.files[0];t.setState(Object(E.a)({},t.state,Object(h.a)({},e,n)))}},t.handleSave=function(){var e=t.state,a=e.carts,n=e.tax,r=e.total_discount,s=a.reduce((function(e,a){return e+a.cost*a.qty}),0),c=void 0!==n?n:0,l=void 0!==r?r:0,o=s+c-l,i=Object(E.a)({},t.state,{subtotal:s,tax:c,total_discount:l,total:o});t.props.savePurchase(i)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"save"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/purchase")):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.payment_date,n=a.modal,c=a.code,l=a.keyword,o=a.products,i=a.carts,m=a.tax,d=a.total_discount,u=a.number,g=a.notes,h=a.supplier_id,E=a.supplier_name,b=a.in_charge_id,f=a.in_charge_name,N=this.props,v=N.fetching,_=N.error,y=i.reduce((function(e,a){return e+a.cost*a.qty}),0)+(void 0!==m?m:0)-(void 0!==d?d:0),k=_&&_.data&&_.data.errors;return _&&422!==_.status?s.a.createElement(C,{title:_.statusText,message:_.data.message,code:_.status,connection:_.connection}):s.a.createElement(r.Fragment,null,s.a.createElement(F.a,{visible:n,dialogClassName:"modal-xl",onClickBackdrop:this.handleCloseModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Tambah Data Barang")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(ue,{isModal:!0,onFinish:this.handleCloseModal}))),s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pembelian Barang")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/purchase"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Referensi ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:u,onChange:this.handleChange("number"),type:"text",className:"form-control ".concat(k&&k.number?"is-invalid":""),placeholder:"Nomor Referensi"}),k&&k.number&&s.a.createElement("div",{className:"invalid-feedback"},k.number[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tanggal Pembelian ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Ee.a,{style:{display:"block"},className:"form-control ".concat(k&&k.payment_date?"is-invalid":""),selected:t,onChange:function(a){return e.changeDate("payment_date",a)}}),k&&k.payment_date&&s.a.createElement("div",{style:{display:"flex"},className:"invalid-feedback"},k.payment_date[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pemasok"),s.a.createElement(B.a,{onChange:this.handleChangeSelect("supplier"),value:h&&{label:E,value:h},isClearable:!0,placeholder:"Pilih Pemasok",cacheOptions:!0,defaultOptions:!0,loadOptions:ke})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Bukti"),s.a.createElement("input",{accept:".jpg, .png, .pdf",ref:function(a){return e.evidence=a},onChange:this.handleChangeFile("evidence"),type:"file",className:"form-control"}),s.a.createElement("span",{className:"help-block text-muted"},"*) Format .jpg, .png, .pdf"))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Penanggung Jawab"),s.a.createElement(B.a,{onChange:this.handleChangeSelect("in_charge"),value:b&&{label:f,value:b},isClearable:!0,placeholder:"Pilih Penanggung Jawab",cacheOptions:!0,defaultOptions:!0,loadOptions:Ce})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Catatan"),s.a.createElement("textarea",{value:g,onChange:this.handleChange("notes"),rows:"5",className:"form-control",placeholder:"Catatan"}))),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9"},s.a.createElement("ul",{className:"nav nav-tabs"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link active",id:"barcode-tab","data-toggle":"tab",href:"#barcode",role:"tab","aria-controls":"barcode","aria-selected":"true"},"Barcode")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",id:"manual-tab","data-toggle":"tab",href:"#manual",role:"tab","aria-controls":"manual","aria-selected":"true"},"Manual Input"))),s.a.createElement("div",{className:"tab-content mt-4",id:"myTabContent"},s.a.createElement("div",{className:"tab-pane fade show active",id:"barcode",role:"tabpanel","aria-labelledby":"barcode-tab"},s.a.createElement("input",{value:c,onChange:this.handleChange("code"),onKeyPress:this.handleKeyPress,type:"text",className:"form-control form-control-lg",placeholder:"Pindai disini"})),s.a.createElement("div",{className:"tab-pane fade autocomplete-wrapper",id:"manual",role:"tabpanel","aria-labelledby":"manual-tab"},s.a.createElement("input",{value:l,onChange:this.handleChangeKeyword,type:"text",className:"form-control form-control-lg",placeholder:"Ketik nama barang atau barcode"}),s.a.createElement("div",{className:"autocomplete"},s.a.createElement("ul",{className:"autocomplete-list m-0"},o&&o.map((function(a){return s.a.createElement("li",{key:a._id,onClick:function(){return e.handleChoose(a.code)}},"".concat(a.code," - ").concat(a.name))}))))))),s.a.createElement("div",{className:"col-md-3 text-right mt-5"},s.a.createElement("button",{className:"btn btn-secondary mt-4",onClick:this.openModal},s.a.createElement("i",{className:"mdi mdi-plus mr-2"})," Tambah Barang")),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("table",{className:"table table-scrollable-two"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Nama"),s.a.createElement("th",{className:"text-right"},"Harga Beli"),s.a.createElement("th",{className:"text-right"},"Harga Jual"),s.a.createElement("th",{className:"text-right"},"Harga Grosir"),s.a.createElement("th",{className:"text-center"},"Qty"),s.a.createElement("th",{className:"text-right"},"Subtotal"))),s.a.createElement("tbody",null,i&&i.length>0?i.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",{className:"text-right"},s.a.createElement(Y,{value:a.cost,handleChangeNumber:function(t){return e.handleUpdateCart("cost",t.floatValue,a._id)}})," "),s.a.createElement("td",{className:"text-right"},s.a.createElement(Y,{value:a.price,handleChangeNumber:function(t){return e.handleUpdateCart("price",t.floatValue,a._id)}})," "),s.a.createElement("td",{className:"text-right"},s.a.createElement(Y,{value:a.wholesale,handleChangeNumber:function(t){return e.handleUpdateCart("wholesale",t.floatValue,a._id)}})," "),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{style:{width:"50%",margin:"auto"},type:"number",value:a.qty,min:"1",onChange:function(t){return e.handleUpdateCart("qty",t.target.value,a._id)},className:"form-control text-right"})),s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement(Y,{value:a.cost*a.qty,type:"text"}),s.a.createElement("button",{onClick:function(){return e.handleDeleteCart(a._id)},className:"btn btn-link text-danger btn-remove"},"\xd7"))))})).sort().reverse():s.a.createElement("tr",{style:{display:"flex"}},s.a.createElement("td",{colSpan:"6",style:{margin:"auto"},className:"text-center"},"Belum ada data"))),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-right",colSpan:"5",style:{width:"80%"}},"Pajak"),s.a.createElement("th",{className:"text-right"},s.a.createElement(Y,{handleChangeNumber:this.handleChangeNumber("tax"),value:m}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"text-right",colSpan:"5",style:{width:"80%"}},"Diskon"),s.a.createElement("th",{className:"text-right"},s.a.createElement(Y,{handleChangeNumber:this.handleChangeNumber("total_discount"),value:d}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"text-right",colSpan:"5",style:{width:"80%"}},"Total"),s.a.createElement("th",{className:"text-right"},s.a.createElement(Y,{type:"text",value:y})))))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5","data-spy":"affix","data-offset-top":"197"},s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.handleSave,className:"btn btn-primary mr-2 ".concat(v?"btn-disabled":""),disabled:v}," ",v?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{onClick:this.handleReset,className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),ye=function(e){return Object(R.a)(e)},ke=function(e,a){_.a.get("".concat(n,"/supplier/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return ye(a)}(e.data.data))}))},Se=function(e){return Object(R.a)(e)},Ce=function(e,a){_.a.get("".concat(n,"/user/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Se(a)}(e.data.data))}))},Oe=Object(k.b)((function(e){return Object(E.a)({},e,{fetching:e.purchase.fetching,fetched:e.purchase.fetched,message:e.purchase.message,success:e.purchase.success,type:e.purchase.type,sales:e.sales.sales,carts:e.sales.carts,error:e.purchase.error})}),(function(e){return{savePurchase:function(a){return e(function(e){return function(a,t){var r=e.number,s=e.payment_date,c=e.supplier_id,l=e.supplier_name,o=e.in_charge_id,i=e.in_charge_name,m=e.notes,d=e.tax,u=e.total_discount,p=e.total,g=e.subtotal,h=e.evidence,E=e.carts;a({type:"SAVE_PURCHASE_PENDING"});var b=new FormData;b.append("evidence",h),b.set("payment_date",q()(s).format("YYYY-MM-DD")),b.set("number",r),b.set("supplier_id",c),b.set("supplier_name",l),b.set("in_charge_id",o),b.set("in_charge_name",i),b.set("notes",m),b.set("tax",d),b.set("total_discount",u),b.set("total",p),b.set("subtotal",g),b.set("details",JSON.stringify(E)),_.a.post("".concat(n,"/purchase"),b,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"SAVE_PURCHASE_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_PURCHASE_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_PURCHASE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},getSales:function(a){return e(V(a))}}}))(Object(T.withToastManager)(_e)),De=function(e){return function(a,t){a({type:"GET_EXPENSE_PENDING"}),_.a.get("".concat(n,"/expense/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_EXPENSE_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_EXPENSE_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_EXPENSE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},Te=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={payment_date_start:new Date,payment_date_end:new Date,ordering:{type:"number",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:""},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.payment_date_start,s=n.payment_date_end,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering;t.props.fetchExpense(Object(h.a)({payment_date_start:r,payment_date_end:s,keyword:c,page:l,perpage:o,ordering:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.payment_date_start,n=e.payment_date_end,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchExpense({payment_date_start:a,payment_date_end:n,ordering:r,keyword:s,page:c,perpage:l})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.payment_date_start,c=r.payment_date_end,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchExpense({payment_date_start:s,payment_date_end:c,ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.changeDate=function(e,a){var n=t.state,r=n.payment_date_start,s=n.payment_date_end,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering;t.props.fetchExpense(Object(h.a)({payment_date_start:r,payment_date_end:s,ordering:i,keyword:c,page:l,perpage:o},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteExpense(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.payment_date_start,r=a.payment_date_end,s=a.ordering,c=a.keyword,l=a.perpage,o=a.filter;t.props.fetchExpense({payment_date_start:n,payment_date_end:r,ordering:s,keyword:c,page:e,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{page:e}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchExpense(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.payment_date_start,t=e.payment_date_end,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchExpense({payment_date_start:a,payment_date_end:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.payment_date_start,n=a.payment_date_end,c=a.ordering,l=a.deleteModal,o=a.perpage,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var g=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:l,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus pembelian")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, dan stok yang sudah bertambah tidak bisa dikembalikan")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pembelian Peralatan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 mb-4"},s.a.createElement(p.b,{to:"/expense/create",className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Pembelian Peralatan")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("payment_date_start",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("payment_date_end",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"payment_date",value:"Tanggal Pesanan",sortable:!0},{name:"number",value:"#",sortable:!0},{name:"product_name",value:"Nama Produk",sortable:!0},{name:"price",value:"Harga",sortable:!0},{name:"qty",value:"Qty",sortable:!0},{name:"total",value:"Total",sortable:!0},{name:"in_charge",value:"Penanggung jawab",sortable:!0},{name:"options",value:"Opsi",sortable:!1}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):g&&g.length>0?g.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.payment_date_formatted),s.a.createElement("td",null,a.number),s.a.createElement("td",null,a.product_name),s.a.createElement("td",{className:"text-right"},a.price_formatted),s.a.createElement("td",{className:"text-center"},a.qty),s.a.createElement("td",{className:"text-right"},a.total_formatted),s.a.createElement("td",null,a.in_charge&&a.in_charge.name),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/expense/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-2"},"Ubah"),s.a.createElement(p.b,{to:"/expense/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm mr-2"},"Lihat")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:o,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),je=Object(k.b)((function(e){return{fetching:e.expense.fetching,error:e.expense.error,data:e.expense.data,type:e.expense.type,success:e.expense.success,message:e.expense.message}}),(function(e){return{fetchExpense:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter,i=e.payment_date_start,m=e.payment_date_end;a({type:"FETCH_EXPENSE_PENDING"}),_.a.get("".concat(n,"/expense"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o,payment_date_start:q()(i).format("YYYY-MM-DD"),payment_date_end:q()(m).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_EXPENSE_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_EXPENSE_FAILED",error:e.response}):a({type:"FETCH_EXPENSE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteExpense:function(a){return e(function(e){return function(a,t){a({type:"DELETE_EXPENSE_PENDING"}),_.a.delete("".concat(n,"/expense/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_EXPENSE_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_EXPENSE_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_EXPENSE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Te)),xe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={payment_date:new Date,number:"",supplier_name:"",product_name:"",price:"",qty:"",in_charge_id:"",in_charge_name:"",notes:"",user:""},t.changeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{payment_date:new Date,number:"",supplier_name:"",product_name:"",price:"",qty:"",in_charge_id:"",in_charge_name:"",notes:"",user:""})),t.evidence.value=""},t.handleChangeFile=function(e){return function(a){var n=a.target.files[0];t.setState(Object(E.a)({},t.state,Object(h.a)({},e,n)))}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSave=function(){t.props.saveExpense(t.state)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"save"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/expense")):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.payment_date,n=a.number,c=a.supplier_name,l=a.product_name,o=a.price,i=a.qty,m=a.in_charge_id,d=a.in_charge_name,u=a.notes,g=this.props,h=g.fetching,E=g.error,b=E&&E.data&&E.data.errors;return E&&422!==E.status?s.a.createElement(C,{title:E.statusText,message:E.data.message,code:E.status,connection:E.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pembelian Barang")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/expense"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Referensi ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:n,onChange:this.handleChange("number"),type:"text",className:"form-control ".concat(b&&b.number?"is-invalid":""),placeholder:"Nomor Referensi"}),b&&b.number&&s.a.createElement("div",{className:"invalid-feedback"},b.number[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tanggal Pembelian ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Ee.a,{style:{display:"block"},className:"form-control ".concat(b&&b.payment_date?"is-invalid":""),selected:t,onChange:function(a){return e.changeDate("payment_date",a)}}),b&&b.payment_date&&s.a.createElement("div",{style:{display:"flex"},className:"invalid-feedback"},b.payment_date[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama Toko / Pemasok"),s.a.createElement("input",{value:c,onChange:this.handleChange("supplier_name"),type:"text",className:"form-control",placeholder:"Nama Toko / Pemasok"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Bukti"),s.a.createElement("input",{accept:".jpg, .png, .pdf",ref:function(a){return e.evidence=a},onChange:this.handleChangeFile("evidence"),type:"file",className:"form-control"}),s.a.createElement("span",{className:"help-block text-muted"},"*) Format .jpg, .png, .pdf"))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama Barang ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:l,onChange:this.handleChange("product_name"),type:"text",className:"form-control",placeholder:"Nama Barang"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{value:o,handleChangeNumber:this.handleChangeNumber("price")}))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Qty ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"number",placeholder:"0",className:"form-control text-right",value:i,min:"1",onChange:this.handleChange("qty")})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Penanggung Jawab"),s.a.createElement(B.a,{onChange:this.handleChangeSelect("in_charge"),value:m&&{label:d,value:m},isClearable:!0,placeholder:"Pilih Penanggung Jawab",cacheOptions:!0,defaultOptions:!0,loadOptions:we})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Catatan"),s.a.createElement("textarea",{onChange:this.handleChange("notes"),value:u,rows:"5",className:"form-control",placeholder:"Catatan"}))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.handleSave,className:"btn btn-primary mr-2 ".concat(h?"btn-disabled":""),disabled:h}," ",h?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{onClick:this.handleReset,className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),Pe=function(e){return Object(R.a)(e)},we=function(e,a){_.a.get("".concat(n,"/user/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Pe(a)}(e.data.data))}))},Ae=Object(k.b)((function(e){return Object(E.a)({},e,{fetching:e.expense.fetching,fetched:e.expense.fetched,message:e.expense.message,success:e.expense.success,type:e.expense.type,error:e.expense.error})}),(function(e){return{saveExpense:function(a){return e(function(e){return function(a,t){var r=e.number,s=e.payment_date,c=e.product_name,l=e.price,o=e.qty,i=e.supplier_name,m=e.in_charge_id,d=e.in_charge_name,u=e.notes,p=e.evidence;a({type:"SAVE_EXPENSE_PENDING"});var g=new FormData;g.append("evidence",p),g.set("payment_date",q()(s).format("YYYY-MM-DD")),g.set("number",r),g.set("product_name",c),g.set("price",l),g.set("qty",o),g.set("supplier_name",i),g.set("in_charge_id",m),g.set("in_charge_name",d),g.set("notes",u),_.a.post("".concat(n,"/expense"),g,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"SAVE_EXPENSE_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_EXPENSE_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_EXPENSE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(xe)),Ie=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={start_date:new Date,end_date:new Date,ordering:{type:"created_at",sort:"desc"},modal:!1,product_id:"",product_name:"",keyword:"",page:1,perpage:10,real_stock:"",description:""},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage,o=e.product_id;t.props.fetchStock({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l,product_id:o})},t.handleChangeSelectProduct=function(e){return function(a){var n,r,s=t.state,c=s.start_date,l=s.end_date,o=s.keyword,i=s.ordering,m=s.page,d=s.perpage;(t.props.fetchStock({start_date:c,end_date:l,ordering:i,keyword:o,page:m,perpage:d,product_id:null!==a?a.value:null}),null!==a)?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage,m=r.product_id;t.props.fetchStock({start_date:s,end_date:c,ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:l,page:o,perpage:i,product_id:m}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage,o=a.product_id;t.props.fetchStock({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l,product_id:o}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering,m=n.product_id;t.props.fetchStock(Object(h.a)({start_date:r,end_date:s,keyword:c,page:l,perpage:o,ordering:i,product_id:m},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.changeDate=function(e,a){var n=t.state,r=n.start_date,s=n.end_date,c=n.keyword,l=n.page,o=n.perpage,i=n.ordering,m=n.product_id;t.props.fetchStock(Object(h.a)({start_date:r,end_date:s,keyword:c,page:l,perpage:o,ordering:i,product_id:m},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleSave=function(){t.props.saveStock(t.state)},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{real_stock:"",description:""}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type)if(t.props.success){a.add(t.props.message,{appearance:"success",autoDismiss:!0});var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage,m=n.product_id;t.props.fetchStock({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i,product_id:m}),t.setState(Object(E.a)({},t.state,{real_stock:"",description:"",modal:!1}))}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage,l=e.product_id;this.props.fetchStock({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c,product_id:l})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.modal,o=a.product_name,i=a.product_id,m=a.perpage,d=a.real_stock,u=a.description,p=this.props,g=p.data,E=p.fetching,b=p.error,f=g?g.current_stock:0;if(b&&422!==b.status)return s.a.createElement(C,{title:b.statusText,message:b.data.message,code:b.status,connection:b.connection});var N=g&&g.data;return s.a.createElement(r.Fragment,null,s.a.createElement(F.a,{visible:l,dialogClassName:"modal-md",onClickBackdrop:this.handleCloseModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Penyesuaian")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Stok Sebenarnya"),s.a.createElement("input",{type:"number",value:d,onChange:this.handleChange("real_stock"),className:"form-control text-right",placeholder:"0"}),s.a.createElement("span",{className:"help-block"},d?f&&f>d?s.a.createElement("span",{className:"text-danger"},"Stok Berkurang ",f-d):s.a.createElement("span",{className:"text-success"},"Stok Bertambah ",d-f):"")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Catatan"),s.a.createElement("textarea",{value:u,onChange:this.handleChange("description"),rows:"5",className:"form-control"}))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",Object(h.a)({onClick:this.handleSave,className:"btn btn-primary mr-2 ".concat(E?"btn-disabled":""),disabled:E},"onClick",this.handleSave),E?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{onClick:this.handleReset,className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))),s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Stok"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"})))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pilih Barang"),s.a.createElement(B.a,{onChange:this.handleChangeSelectProduct("product"),value:i&&{label:o,value:i},isClearable:!0,placeholder:"Pilih Produk",cacheOptions:!0,defaultOptions:!0,loadOptions:Le}))),s.a.createElement("div",{className:"col-md-6 text-right"},i&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Stok Sekarang: ",g&&g.current_stock),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleModal},s.a.createElement("i",{className:"mdi mdi-adjust mr-2"}),"Penyesuaian"))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"notes",value:"Catatan",sortable:!0},{name:"stock",value:"Stok",sortable:!0},{name:"created_at",value:"Tanggal",sortable:!0},{name:"user_id",value:"Dibuat oleh",sortable:!1}],ordering:c,handleSorting:this.handleSorting},E?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):N&&N.length>0?N.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.description),s.a.createElement("td",null,"+"===e.type?s.a.createElement("span",{className:"text-success"},"+",e.amount):s.a.createElement("span",{className:"text-danger"},"-",e.amount)),s.a.createElement("td",null,e.created_at_formatted),s.a.createElement("td",null,e.user?e.user.name:"-"))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"4"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},g&&g.total>1&&s.a.createElement("p",null,"Menampilkan ",g&&g.from.toLocaleString()," s/d ",g&&g.to.toLocaleString()," dari ",g&&g.total.toLocaleString()," data"),g&&g.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},g.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(g.current_page-1)},className:"page-link"},"Prev")),g.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===g.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),g.current_page<g.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(g.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:m,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),Ue=function(e){return Object(R.a)(e)},Le=function(e,a){_.a.get("".concat(n,"/product/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Ue(a)}(e.data.data))}))},Me=Object(k.b)((function(e){return{fetching:e.stock.fetching,error:e.stock.error,data:e.stock.data,type:e.stock.type,success:e.stock.success,message:e.stock.message}}),(function(e){return{fetchStock:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.product_id,i=e.start_date,m=e.end_date;a({type:"FETCH_STOCK_PENDING"}),_.a.get("".concat(n,"/stock"),{params:{page:r,perpage:s,keyword:c,ordering:l,product_id:o,start_date:q()(i).format("YYYY-MM-DD"),end_date:q()(m).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_STOCK_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_STOCK_FAILED",error:e.response}):a({type:"FETCH_STOCK_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},saveStock:function(a){return e(function(e){return function(a,t){var r=e.product_id,s=e.real_stock,c=e.description;a({type:"SAVE_STOCK_PENDING"}),_.a.post("".concat(n,"/stock"),{product_id:r,real_stock:s,description:c},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_STOCK_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_STOCK_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_STOCK_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ie)),Re=function(e){return function(a,t){a({type:"GET_USER_PENDING"}),_.a.get("".concat(n,"/user/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_USER_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_USER_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},Ge=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all",downloading:!1,printing:!1},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchUser(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchUser({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchUser({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteUser(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchUser({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleUser(a)},t.handleSelected=function(e){var a=e.target.value;t.props.selectUser(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||("delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchUser(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"import"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{modal:!1})),t.props.fetchUser(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.ordering,t=e.keyword,n=e.page,r=e.perpage,s=e.filter;this.props.fetchUser({ordering:a,keyword:t,page:n,perpage:r,filter:s})}},{key:"render",value:function(){var e=this,a=this.state,n=a.ordering,c=a.deleteModal,l=a.perpage,o=this.props,i=o.data,m=o.fetching,d=o.error,u=i&&i.data;return d&&422!==d.status?s.a.createElement(C,{title:d.statusText,message:d.data.message,code:d.status,connection:d.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:c,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus pengguna")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan barang")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pengguna"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/user/create",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"avatar",value:"",sortable:!1},{name:"name",value:"Nama",sortable:!0},{name:"role_name",value:"Peranan",sortable:!0},{name:"email",value:"Email",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:n,handleSorting:this.handleSorting},m?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):u&&u.length>0?u.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",{className:"text-center"},s.a.createElement("img",{src:a.avatar?a.avatar:t(94),alt:a.name,className:"img-fluid rounded-circle img-avatar",width:"50"})),s.a.createElement("td",null,a.name),s.a.createElement("td",null,a.role&&a.role.name),s.a.createElement("td",null,a.email),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{type:"checkbox",onClick:e.handleActive,value:a._id,defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/user/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-3"},"Ubah"),s.a.createElement(p.b,{to:"/user/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-sm"},"Lihat")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},i&&i.total>1&&s.a.createElement("p",null,"Menampilkan ",i&&i.from.toLocaleString()," s/d ",i&&i.to.toLocaleString()," dari ",i&&i.total.toLocaleString()," data"),i&&i.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},i.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(i.current_page-1)},className:"page-link"},"Prev")),i.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===i.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),i.current_page<i.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(i.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),Fe=Object(k.b)((function(e){return{fetching:e.user.fetching,error:e.user.error,data:e.user.data,type:e.user.type,success:e.user.success,message:e.user.message}}),(function(e){return{fetchUser:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_USER_PENDING"}),_.a.get("".concat(n,"/user"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_USER_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_USER_FAILED",error:e.response}):a({type:"FETCH_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleUser:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_USER_PENDING"}),_.a.delete("".concat(n,"/user/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_USER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_USER_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteUser:function(a){return e(function(e){return function(a,t){a({type:"DELETE_USER_PENDING"}),_.a.delete("".concat(n,"/user/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_USER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_USER_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ge)),Ke=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={date_of_birth:null,name:"",email:"",phone_number:"",role_id:"",role_name:"",password:"",password_confirmation:"",photo:"",place_of_birth:"",address:""},t.handleChangeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.handleChangePhoto=function(e){return function(a){var n=a.target.files[0];t.setState(Object(E.a)({},t.state,Object(h.a)({},e,n)))}},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{date_of_birth:null,name:"",email:"",phone_number:"",role_id:"",role_name:"",password:"",password_confirmation:"",photo:"",place_of_birth:"",address:""})),t.photo.value=""},t.handleSave=function(){t.props.saveUser(t.state)},t.componentDidUpdate=function(e){if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){var a=t.props.toastManager;if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/user");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.date_of_birth,n=a.name,c=a.email,l=a.phone_number,o=a.role_id,i=a.role_name,m=a.password,d=a.password_confirmation,u=a.place_of_birth,g=a.address,h=this.props,E=h.fetching,b=h.error,f=b&&b.data&&b.data.errors;return b&&422!==b.status?s.a.createElement(C,{title:b.statusText,message:b.data.message,code:b.status,connection:b.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pengguna")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/user"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:n,onChange:this.handleChange("name"),type:"text",className:"form-control ".concat(f&&f.name&&"is-invalid"),placeholder:"Nama Pengguna"}),f&&f.name&&s.a.createElement("div",{className:"invalid-feedback"},f.name[0])),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("email"),type:"email",className:"form-control ".concat(f&&f.email&&"is-invalid"),placeholder:"Email Pengguna"}),f&&f.email&&s.a.createElement("div",{className:"invalid-feedback"},f.email[0]))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:l,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Peranan ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(B.a,{placeholder:"Pilih Peranan",value:o&&{label:i,value:o},onChange:this.handleChangeSelect("role"),loadOptions:Ye,cacheOptions:!0,defaultOptions:!0,className:"".concat(f&&f.role_id&&"is-invalid-select")}),f&&f.role_id&&s.a.createElement("small",{className:"text-danger"},f.role_id[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("label",{className:"control-label"},"Kata Sandi ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:m,onChange:this.handleChange("password"),type:"password",className:"form-control ".concat(f&&f.password&&"is-invalid"),placeholder:"Kata Sandi"}),f&&f.password&&s.a.createElement("div",{className:"invalid-feedback"},f.password[0])),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("label",{className:"control-label"},"Ulangi Kata Sandi ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:d,onChange:this.handleChange("password_confirmation"),type:"password",className:"form-control",placeholder:"Ulangi Kata Sandi"}))))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Photo"),s.a.createElement("input",{ref:function(a){return e.photo=a},onChange:this.handleChangePhoto("photo"),type:"file",className:"form-control"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tempat Lahir"),s.a.createElement("input",{value:u,onChange:this.handleChange("place_of_birth"),type:"text",className:"form-control",placeholder:"Jakarta"}))),s.a.createElement("div",{className:"col-md-7"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tanggal Lahir"),s.a.createElement(Ee.a,{placeholderText:"mm/dd/yyyy",selected:t,className:"form-control",onChange:function(a){return e.handleChangeDate("date_of_birth",a)}})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:g,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),E?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),He=function(e){return Object(R.a)(e)},Ye=function(e,a){_.a.get("".concat(n,"/role/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return He(a)}(e.data.data))}))},Be=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.user.message,fetching:e.user.fetching,error:e.user.error,success:e.user.success,type:e.user.type})}),(function(e){return{saveUser:function(a){return e(function(e){return function(a,t){var r=e.date_of_birth,s=e.name,c=e.email,l=e.phone_number,o=e.role_id,i=e.role_name,m=e.password,d=e.password_confirmation,u=e.photo,p=e.place_of_birth,g=e.address;a({type:"SAVE_USER_PENDING"});var h=new FormData;h.append("photo",u),h.set("date_of_birth",r?q()(r).format("YYYY-MM-DD"):""),h.set("name",s),h.set("email",c),h.set("phone_number",l),h.set("role_id",o),h.set("role_name",i),h.set("password",m),h.set("password_confirmation",d),h.set("photo",u),h.set("place_of_birth",p),h.set("address",g),_.a.post("".concat(n,"/user"),h,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"SAVE_USER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_USER_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ke)),ze=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all"},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchCustomer(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchCustomer({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchCustomer({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteCustomer(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchCustomer({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleCustomer(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchCustomer(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t.componentDidMount=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchCustomer({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.perpage,l=this.props,o=l.data,i=l.fetching,m=l.error,d=o&&o.data;return m&&422!==m.status?s.a.createElement(C,{title:m.statusText,message:m.data.message,code:m.status,connection:m.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus pelanggan")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan barang")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pelanggan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/customer/create",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Kata kunci",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword")}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:this.handleSearch},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"type",value:"Tipe",sortable:!0},{name:"email",value:"Email",sortable:!0},{name:"phone_number",value:"Nomor Telfon",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},i?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):d&&d.length>0?d.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",null,a.type_name),s.a.createElement("td",null,a.email),s.a.createElement("td",null,a.phone_number),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{onClick:e.handleActive,value:a._id,type:"checkbox",defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/customer/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-3"},"Ubah")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},o&&o.total>1&&s.a.createElement("p",null,"Menampilkan ",o&&o.from.toLocaleString()," s/d ",o&&o.to.toLocaleString()," dari ",o&&o.total.toLocaleString()," data"),o&&o.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},o.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page-1)},className:"page-link"},"Prev")),o.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===o.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),o.current_page<o.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{className:"form-control",value:c,onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),qe=Object(k.b)((function(e){return{fetching:e.customer.fetching,error:e.customer.error,data:e.customer.data,type:e.customer.type,success:e.customer.success,message:e.customer.message}}),(function(e){return{fetchCustomer:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_CUSTOMER_PENDING"}),_.a.get("".concat(n,"/customer"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_CUSTOMER_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_CUSTOMER_FAILED",error:e.response}):a({type:"FETCH_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleCustomer:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_CUSTOMER_PENDING"}),_.a.delete("".concat(n,"/customer/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_CUSTOMER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_CUSTOMER_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteCustomer:function(a){return e(function(e){return function(a,t){a({type:"DELETE_CUSTOMER_PENDING"}),_.a.delete("".concat(n,"/customer/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_CUSTOMER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_CUSTOMER_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(ze)),Ve=t(54),Xe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",phone_number:"",type_label:"Pengecer",type_value:"retailer",address:""},t.handleSave=function(){t.props.saveCustomer(t.state)},t.handleReset=function(){t.setState({name:"",email:"",phone_number:"",type_label:"",type_value:"",address:""})},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_label"),a.label),Object(h.a)(n,"".concat(e,"_value"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_label"),null),Object(h.a)(r,"".concat(e,"_value"),null),r)))}},t.componentDidUpdate=function(e){if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){var a=t.props.toastManager;if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/customer");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.fetching,n=this.state,c=n.name,l=n.email,o=n.phone_number,i=n.type_label,m=n.type_value,d=n.address,u=a&&a.data&&a.data.errors;return a&&422!==a.status?s.a.createElement(C,{title:a.statusText,message:a.data.message,code:a.status,connection:a.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pelanggan")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/customer"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("name"),type:"text",className:"form-control  ".concat(u&&u.name&&"is-invalid"),placeholder:"Nama Pelanggan"}),u&&u.name&&s.a.createElement("div",{className:"invalid-feedback"},u.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email"),s.a.createElement("input",{value:l,onChange:this.handleChange("email"),type:"email",className:"form-control  ".concat(u&&u.email&&"is-invalid"),placeholder:"Email Pelanggan"}),u&&u.email&&s.a.createElement("div",{className:"invalid-feedback"},u.email[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:o,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"}))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe"),s.a.createElement(Ve.a,{value:i&&{label:i,value:m},onChange:this.handleChangeSelect("type"),placeholder:"Pilih tipe",options:[{label:"Pengecer",value:"retailer"},{label:"Grosir",value:"wholesaler"}]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:d,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),t?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),Je=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.customer.message,fetching:e.customer.fetching,error:e.customer.error,success:e.customer.success,type:e.customer.type})}),(function(e){return{saveCustomer:function(a){return e(function(e){return function(a,t){var r=e.name,s=e.email,c=e.phone_number,l=e.type_label,o=e.type_value,i=e.address;a({type:"SAVE_CUSTOMER_PENDING"}),_.a.post("".concat(n,"/customer"),{name:r,email:s,phone_number:c,type_label:l,type_value:o,address:i},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_CUSTOMER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_CUSTOMER_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Xe)),Qe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all"},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchSupplier(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchSupplier({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchSupplier({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state,{modal:!1}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteSupplier(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchSupplier({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleSupplier(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchSupplier(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t.componentDidMount=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchSupplier({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.perpage,l=this.props,o=l.data,i=l.fetching,m=l.error,d=o&&o.data;return m&&422!==m.status?s.a.createElement(C,{title:m.statusText,message:m.data.message,code:m.status,connection:m.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus pemasok")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan barang")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pemasok"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/supplier/create",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"email",value:"Email",sortable:!0},{name:"phone_number",value:"Nomor Telfon",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},i?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"5"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):d&&d.length>0?d.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",null,a.email),s.a.createElement("td",null,a.phone_number),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{onClick:e.handleActive,value:a._id,type:"checkbox",defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/supplier/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-3"},"Ubah")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"5"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},o&&o.total>1&&s.a.createElement("p",null,"Menampilkan ",o&&o.from.toLocaleString()," s/d ",o&&o.to.toLocaleString()," dari ",o&&o.total.toLocaleString()," data"),o&&o.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},o.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page-1)},className:"page-link"},"Prev")),o.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===o.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),o.current_page<o.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{className:"form-control",value:c,onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),We=Object(k.b)((function(e){return{fetching:e.supplier.fetching,error:e.supplier.error,data:e.supplier.data,type:e.supplier.type,success:e.supplier.success,message:e.supplier.message}}),(function(e){return{fetchSupplier:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_SUPPLIER_PENDING"}),_.a.get("".concat(n,"/supplier"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_SUPPLIER_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_SUPPLIER_FAILED",error:e.response}):a({type:"FETCH_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleSupplier:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_SUPPLIER_PENDING"}),_.a.delete("".concat(n,"/supplier/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_SUPPLIER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_SUPPLIER_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteSupplier:function(a){return e(function(e){return function(a,t){a({type:"DELETE_SUPPLIER_PENDING"}),_.a.delete("".concat(n,"/supplier/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_SUPPLIER_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_SUPPLIER_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Qe)),Ze=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",phone_number:"",address:""},t.handleSave=function(){t.props.saveSupplier(t.state)},t.handleReset=function(){t.setState({name:"",email:"",phone_number:"",address:""})},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.componentDidUpdate=function(e){var a=t.props.toastManager;if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/suppler");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.fetching,n=this.state,c=n.name,l=n.email,o=n.phone_number,i=n.address,m=a&&a.data&&a.data.errors;return a&&422!==a.status?s.a.createElement(C,{title:a.statusText,message:a.data.message,code:a.status,connection:a.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pemasok")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/supplier"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("name"),type:"text",className:"form-control  ".concat(m&&m.name&&"is-invalid"),placeholder:"Nama Pemasok"}),m&&m.name&&s.a.createElement("div",{className:"invalid-feedback"},m.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email"),s.a.createElement("input",{value:l,onChange:this.handleChange("email"),type:"email",className:"form-control  ".concat(m&&m.email?"is-invalid":""),placeholder:"Email Pemasok"}),m&&m.email&&s.a.createElement("div",{className:"invalid-feedback"},m.email[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:o,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"}))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:i,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),t?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),$e=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.supplier.message,fetching:e.supplier.fetching,error:e.supplier.error,success:e.supplier.success,type:e.supplier.type})}),(function(e){return{saveSupplier:function(a){return e(function(e){return function(a,t){var r=e.name,s=e.email,c=e.phone_number,l=e.address;a({type:"SAVE_SUPPLIER_PENDING"}),_.a.post("".concat(n,"/supplier"),{name:r,email:s,phone_number:c,address:l},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_SUPPLIER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_SUPPLIER_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ze)),ea=function(e){return function(a,t){a({type:"GET_ROLE_PENDING"}),_.a.get("".concat(n,"/role/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_ROLE_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_ROLE_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},aa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},modal:!1,deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all"},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchRole({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchRole({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!0}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1}))},t.handleDelete=function(){t.props.deleteRole(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchRole({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchRole(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleActive=function(e){var a=e.target.value;t.props.toggleRole(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||("delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchRole(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"import"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{modal:!1})),t.props.fetchRole(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})))},t.componentDidMount=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchRole({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.perpage,l=this.props,o=l.data,i=l.fetching,m=l.error,d=o&&o.data;return m&&422!==m.status?s.a.createElement(C,{title:m.statusText,message:m.data.message,code:m.status,connection:m.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Peranan"),s.a.createElement("hr",null)),s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus peranan")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan kategori")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/role/create",className:"btn btn-primary"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{onChange:this.handleChangeSelect("filter"),className:"form-control"},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{onChange:this.handleChange("keyword"),onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},type:"text",className:"form-control",placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{onClick:this.handleSearch,className:"btn btn-secondary",type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},i?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):d&&d.length>0?d.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{value:a._id,type:"checkbox",onClick:e.handleActive,defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-small mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/role/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-small mr-3"},"Ubah"),s.a.createElement(p.b,{to:"/role/view/".concat(a._id),className:"btn p-0 text-info btn-link btn-small"},"Lihat")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},o&&o.total>1&&s.a.createElement("p",null,"Menampilkan ",o&&o.from.toLocaleString()," s/d ",o&&o.to.toLocaleString()," dari ",o&&o.total.toLocaleString()," data"),o&&o.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},o.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page-1)},className:"page-link"},"Prev")),o.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===o.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),o.current_page<o.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(o.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:c,onChange:this.handleChangeSelect("perpage"),className:"form-control"},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),ta=Object(k.b)((function(e){return{fetching:e.role.fetching,error:e.role.error,data:e.role.data,type:e.role.type,success:e.role.success,message:e.role.message}}),(function(e){return{fetchRole:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_ROLE_PENDING"}),_.a.get("".concat(n,"/role"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_ROLE_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_ROLE_FAILED",error:e.response}):a({type:"FETCH_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleRole:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_ROLE_PENDING"}),_.a.delete("".concat(n,"/role/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_ROLE_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_ROLE_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteRole:function(a){return e(function(e){return function(a,t){a({type:"DELETE_ROLE_PENDING"}),_.a.delete("".concat(n,"/role/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_ROLE_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_ROLE_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(aa)),na=function(){return function(e,a){e({type:"LIST_PERMISSION_PENDING"}),_.a.get("".concat(n,"/permission/list"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(a){e({type:"LIST_PERMISSION_SUCCESS",data:a.data.data,success:!0})})).catch((function(a){a.response?e({type:"LIST_PERMISSION_FAILED",error:a.response,message:a.response.data.message}):e({type:"LIST_PERMISSION_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}},ra=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",permissions:{}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSubmit=function(e){e.preventDefault(),t.props.saveRole(t.state)},t.handleClickCheckbox=function(e){var a=t.state.permissions;t.setState(Object(E.a)({},t.state,{permissions:Object(E.a)({},a,Object(h.a)({},e.target.value,e.target.checked))}))},t.componentDidUpdate=function(e){if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){var a=t.props.toastManager;if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/role");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getListPermission()}},{key:"render",value:function(){var e=this,a=this.props,t=a.error,n=a.permissions,c=t&&t.data&&t.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-horizontal"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Peranan")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/role"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{onChange:this.handleChange("name"),type:"text",className:"form-control ".concat(c&&c.name?"is-invalid":""),placeholder:"Nama Peranan"}),c&&c.name&&s.a.createElement("div",{className:"invalid-feedback"},c.name[0]))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Izin"),s.a.createElement("div",{className:"row"},n&&n.map((function(a){return s.a.createElement("div",{className:"col-md-4",key:a._id},s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"checkbox",onChange:e.handleClickCheckbox,value:a.slug,id:a.slug}),s.a.createElement("label",{className:"form-check-label",htmlFor:a.slug},a.name)))})))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan"),s.a.createElement("button",{type:"reset",className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),sa=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.role.message,fetching:e.role.fetching,error:e.role.error,success:e.role.success,type:e.role.type,permissions:e.permission.permissions})}),(function(e){return{saveRole:function(a){return e(function(e){return function(a,t){var r=e.name,s=e.permissions;a({type:"SAVE_ROLE_PENDING"}),_.a.post("".concat(n,"/role"),{name:r,permissions:s},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_ROLE_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_ROLE_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},getListPermission:function(){return e(na())}}}))(Object(T.withToastManager)(ra)),ca=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={start_date:new Date,end_date:new Date,ordering:{type:"product_name",sort:"asc"},keyword:"",page:1,perpage:10,downloading:!1},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchSalesReport({ordering:{type:a,sort:"asc"===n?"desc":"asc"},start_date:s,end_date:c,keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchSalesReport({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l})},t.changeDate=function(e,a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchSalesReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchSalesReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage;t.props.fetchSalesReport({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleDownload=function(e){var a=t.state,r=a.start_date,s=a.end_date;t.props.toastManager;t.setState(Object(E.a)({},t.state,{downloading:!0})),"pdf"===e?_.a.get("".concat(n,"/report-sales/print/pdf"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_penjualan_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".pdf")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)})):_.a.get("".concat(n,"/report-sales/print/excel"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_penjualan_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".xlsx")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchSalesReport({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.perpage,o=a.downloading,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var p=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Laporan Penjualan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"})))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"btn-disabled":""),disabled:o,id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-download mr-2"})," Unduh"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("button",{onClick:function(){return e.handleDownload("pdf")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-pdf mr-2"}),"PDF"),s.a.createElement("button",{onClick:function(){return e.handleDownload("excel")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-excel mr-2"}),"Excel")))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"created_at",value:"Tanggal",sortable:!0},{name:"product_name",value:"Nama",sortable:!0},{name:"price",value:"Harga Jual",sortable:!0},{name:"cost",value:"Harga Beli",sortable:!0},{name:"qty",value:"Qty",sortable:!0},{name:"discount",value:"Diskon",sortable:!0},{name:"subtotal",value:"Subtotal",sortable:!0},{name:"total",value:"Total",sortable:!0}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):p&&p.length>0?p.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.created_at_formatted),s.a.createElement("td",null,e.product_name),s.a.createElement("td",{className:"text-right"},e.price_formatted),s.a.createElement("td",{className:"text-right"},e.cost_formatted),s.a.createElement("td",{className:"text-right"},e.qty," ",e.product&&e.product.unit),s.a.createElement("td",{className:"text-right"},e.discount_formatted),s.a.createElement("td",{className:"text-right"},e.subtotal_formatted),s.a.createElement("td",{className:"text-right"},e.total_formatted))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},"Belum ada data"))),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Barang Terjual"),s.a.createElement("td",{className:"text-right"},m&&m.total_selled?m.total_selled:s.a.createElement(Y,{value:0,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Penjualan"),s.a.createElement("td",{className:"text-right"},m&&m.total_sales?m.total_sales:s.a.createElement(Y,{value:0,type:"text"}))),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Keuntungan"),s.a.createElement("td",{className:"text-right"},m&&m.total_profit?m.total_profit:s.a.createElement(Y,{value:0,type:"text"}))))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),la=Object(k.b)((function(e){return{fetching:e.report.fetching,error:e.report.error,data:e.report.data,type:e.report.type,success:e.report.success,message:e.report.message}}),(function(e){return{fetchSalesReport:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.start_date,i=e.end_date;a({type:"FETCH_SALES_REPORT_PENDING"}),_.a.get("".concat(n,"/report-sales"),{params:{page:r,perpage:s,keyword:c,ordering:l,start_date:q()(o).format("YYYY-MM-DD"),end_date:q()(i).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_SALES_REPORT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_SALES_REPORT_FAILED",error:e.response}):a({type:"FETCH_SALES_REPORT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(ca)),oa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={start_date:new Date,end_date:new Date,ordering:{type:"product_name",sort:"asc"},keyword:"",page:1,perpage:10,downloading:!1},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchPurchaseReport({ordering:{type:a,sort:"asc"===n?"desc":"asc"},start_date:s,end_date:c,keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchPurchaseReport({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l})},t.changeDate=function(e,a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchPurchaseReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchPurchaseReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage;t.props.fetchPurchaseReport({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleDownload=function(e){var a=t.state,r=a.start_date,s=a.end_date;t.props.toastManager;t.setState(Object(E.a)({},t.state,{downloading:!0})),"pdf"===e?_.a.get("".concat(n,"/report-purchase/print/pdf"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".pdf")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)})):_.a.get("".concat(n,"/report-purchase/print/excel"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".xlsx")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchPurchaseReport({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.perpage,o=a.downloading,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var p=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Laporan Pembelian Barang"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"})))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"btn-disabled":""),disabled:o,id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-download mr-2"})," Unduh"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("button",{onClick:function(){return e.handleDownload("pdf")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-pdf mr-2"}),"PDF"),s.a.createElement("button",{onClick:function(){return e.handleDownload("excel")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-excel mr-2"}),"Excel")))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"purchase.payment_date",value:"Tanggal",sortable:!1},{name:"product_name",value:"Nama",sortable:!0},{name:"price",value:"Harga Jual",sortable:!0},{name:"cost",value:"Harga Beli",sortable:!0},{name:"qty",value:"Qty",sortable:!0},{name:"subtotal",value:"Subtotal",sortable:!0}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):p&&p.length>0?p.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.purchase&&e.purchase.payment_date_formatted),s.a.createElement("td",null,e.product_name),s.a.createElement("td",{className:"text-right"},e.price_formatted),s.a.createElement("td",{className:"text-right"},e.cost_formatted),s.a.createElement("td",{className:"text-right"},e.qty," ",e.product&&e.product.unit),s.a.createElement("td",{className:"text-right"},e.subtotal_formatted))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},"Belum ada data"))),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Barang Dibeli"),s.a.createElement("td",{className:"text-right"},m&&m.total_purchased?m.total_purchased:0)),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Pembelian"),s.a.createElement("td",{className:"text-right"},m&&m.total_purchase?m.total_purchase:s.a.createElement(Y,{value:0,type:"text"}))))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),ia=Object(k.b)((function(e){return{fetching:e.report.fetching,error:e.report.error,data:e.report.data,type:e.report.type,success:e.report.success,message:e.report.message}}),(function(e){return{fetchPurchaseReport:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.start_date,i=e.end_date;a({type:"FETCH_PURCHASE_REPORT_PENDING"}),_.a.get("".concat(n,"/report-purchase"),{params:{page:r,perpage:s,keyword:c,ordering:l,start_date:q()(o).format("YYYY-MM-DD"),end_date:q()(i).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_PURCHASE_REPORT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_PURCHASE_REPORT_FAILED",error:e.response}):a({type:"FETCH_PURCHASE_REPORT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(oa)),ma=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={start_date:new Date,end_date:new Date,ordering:{type:"product_name",sort:"asc"},keyword:"",page:1,perpage:10,downloading:!1},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchExpenseReport({ordering:{type:a,sort:"asc"===n?"desc":"asc"},start_date:s,end_date:c,keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchExpenseReport({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l})},t.changeDate=function(e,a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchExpenseReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchExpenseReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage;t.props.fetchExpenseReport({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleDownload=function(e){var a=t.state,r=a.start_date,s=a.end_date;t.props.toastManager;t.setState(Object(E.a)({},t.state,{downloading:!0})),"pdf"===e?_.a.get("".concat(n,"/report-expense/print/pdf"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".pdf")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)})):_.a.get("".concat(n,"/report-expense/print/excel"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".xlsx")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchExpenseReport({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.perpage,o=a.downloading,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var p=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Laporan Pembelian Peratan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"})))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"btn-disabled":""),disabled:o,id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-download mr-2"})," Unduh"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("button",{onClick:function(){return e.handleDownload("pdf")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-pdf mr-2"}),"PDF"),s.a.createElement("button",{onClick:function(){return e.handleDownload("excel")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-excel mr-2"}),"Excel")))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"payment_date",value:"Tanggal",sortable:!0},{name:"product_name",value:"Nama",sortable:!0},{name:"price",value:"Harga Jual",sortable:!0},{name:"qty",value:"Qty",sortable:!0},{name:"total",value:"Total",sortable:!0}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):p&&p.length>0?p.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.payment_date_formatted),s.a.createElement("td",null,e.product_name),s.a.createElement("td",{className:"text-right"},e.price_formatted),s.a.createElement("td",{className:"text-right"},e.qty),s.a.createElement("td",{className:"text-right"},e.total_formatted))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"8"},"Belum ada data"))),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Barang Dibeli"),s.a.createElement("td",{className:"text-right"},m&&m.total_expensed?m.total_expensed:0)),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-right"},"Total Pembelian"),s.a.createElement("td",{className:"text-right"},m&&m.total_expense?m.total_expense:s.a.createElement(Y,{value:0,type:"text"}))))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),da=Object(k.b)((function(e){return{fetching:e.report.fetching,error:e.report.error,data:e.report.data,type:e.report.type,success:e.report.success,message:e.report.message}}),(function(e){return{fetchExpenseReport:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.start_date,i=e.end_date;a({type:"FETCH_EXPENSE_REPORT_PENDING"}),_.a.get("".concat(n,"/report-expense"),{params:{page:r,perpage:s,keyword:c,ordering:l,start_date:q()(o).format("YYYY-MM-DD"),end_date:q()(i).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_EXPENSE_REPORT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_EXPENSE_REPORT_FAILED",error:e.response}):a({type:"FETCH_EXPENSE_REPORT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(ma)),ua=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={start_date:new Date,end_date:new Date,ordering:{type:"product_name",sort:"asc"},keyword:"",page:1,perpage:10,downloading:!1},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.start_date,c=r.end_date,l=r.keyword,o=r.page,i=r.perpage;t.props.fetchStockReport({ordering:{type:a,sort:"asc"===n?"desc":"asc"},start_date:s,end_date:c,keyword:l,page:o,perpage:i}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleSearch=function(){var e=t.state,a=e.start_date,n=e.end_date,r=e.ordering,s=e.keyword,c=e.page,l=e.perpage;t.props.fetchStockReport({start_date:a,end_date:n,ordering:r,keyword:s,page:c,perpage:l})},t.changeDate=function(e,a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchStockReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.start_date,s=n.end_date,c=n.ordering,l=n.keyword,o=n.page,i=n.perpage;t.props.fetchStockReport(Object(h.a)({start_date:r,end_date:s,ordering:c,keyword:l,page:o,perpage:i},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.start_date,r=a.end_date,s=a.ordering,c=a.keyword,l=a.perpage;t.props.fetchStockReport({start_date:n,end_date:r,ordering:s,keyword:c,page:e,perpage:l}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleDownload=function(e){var a=t.state,r=a.start_date,s=a.end_date;t.props.toastManager;t.setState(Object(E.a)({},t.state,{downloading:!0})),"pdf"===e?_.a.get("".concat(n,"/report-stock/print/pdf"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".pdf")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)})):_.a.get("".concat(n,"/report-stock/print/excel"),{params:{keyword:t.state.keyword,start_date:q()(t.state.start_date).format("YYYY-MM-DD"),end_date:q()(t.state.end_date).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"laporan_pembelian_barang_".concat(q()(r).format("DD/MM/YYYY"),"_sd_").concat(q()(s).format("DD/MM/YYYY"),".xlsx")),t.setState(Object(E.a)({},t.state,{downloading:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{downloading:!1})),console.log(e)}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.start_date,t=e.end_date,n=e.ordering,r=e.keyword,s=e.page,c=e.perpage;this.props.fetchStockReport({start_date:a,end_date:t,ordering:n,keyword:r,page:s,perpage:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.start_date,n=a.end_date,c=a.ordering,l=a.perpage,o=a.downloading,i=this.props,m=i.data,d=i.fetching,u=i.error;if(u&&422!==u.status)return s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection});var p=m&&m.data;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Laporan Stok"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Dari tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:t,onChange:function(a){return e.changeDate("start_date",a)}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sampai tanggal"),s.a.createElement(Ee.a,{className:"form-control",selected:n,onChange:function(a){return e.changeDate("end_date",a)}}))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"})))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"btn-disabled":""),disabled:o,id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-download mr-2"})," Unduh"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("button",{onClick:function(){return e.handleDownload("pdf")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-pdf mr-2"}),"PDF"),s.a.createElement("button",{onClick:function(){return e.handleDownload("excel")},className:"dropdown-item"},s.a.createElement("i",{className:"mdi mdi-file-excel mr-2"}),"Excel")))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"created_at",value:"Tanggal",sortable:!0},{name:"stock.product.name",value:"Nama",sortable:!0},{name:"amount",value:"Stok",sortable:!0},{name:"desciption",value:"Keterangan",sortable:!0},{name:"user_id",value:"Dibuat Oleh",sortable:!1}],ordering:c,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"5"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):p&&p.length>0?p.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.created_at_formatted),s.a.createElement("td",null,e.stock&&e.stock.product&&e.stock.product.name),s.a.createElement("td",null,"+"===e.type?s.a.createElement("span",{className:"text-success"},"+",e.amount):s.a.createElement("span",{className:"text-danger"},"-",e.amount)," "),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.user?e.user.name:"-"))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"5"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),pa=Object(k.b)((function(e){return{fetching:e.report.fetching,error:e.report.error,data:e.report.data,type:e.report.type,success:e.report.success,message:e.report.message}}),(function(e){return{fetchStockReport:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.start_date,i=e.end_date;a({type:"FETCH_STOCK_REPORT_PENDING"}),_.a.get("".concat(n,"/report-stock"),{params:{page:r,perpage:s,keyword:c,ordering:l,start_date:q()(o).format("YYYY-MM-DD"),end_date:q()(i).format("YYYY-MM-DD")},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_STOCK_REPORT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_STOCK_REPORT_FAILED",error:e.response}):a({type:"FETCH_STOCK_REPORT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(ua)),ga=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",address:"",logo:"",logo_remove:!1,logo_url:"",phone_number:"",divider:"",currency:"",thousand_separator:",",decimal_separator:".",printer:"http://localhost:4000",tax:0,loadingTestReceipt:!1,loadingTestPrinter:!1},t.handleChange=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleSave=function(){t.props.saveSetting(t.state)},t.divider=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,t=[],n=0;n<a;n++)t.push(e);return t.join("")},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{name:"",address:"",logo:"",logo_remove:!1,phone_number:"",divider:"",currency:"",thousand_separator:",",decimal_separator:".",printer:"http://localhost:4000",tax:0})),t.uploadLogo.value=""},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("get"===t.props.type&&t.props.success){var n=t.props.setting;n&&t.setState({name:n.name?n.name:"",address:n.address?n.address:"",logo_remove:"true"===n.logo_remove,logo_url:n.logo_url?n.logo_url:"",phone_number:n.phone_number?n.phone_number:"",divider:n.divider?n.divider:"",currency:n.currency?n.currency:"",thousand_separator:n.thousand_separator?n.thousand_separator:"",decimal_separator:n.decimal_separator?n.decimal_separator:"",tax:n.tax?n.tax:0,printer:n.printer?n.printer:"http://localhost:4000"})}"save"===t.props.type&&(t.props.success?a.add(t.props.message,{appearance:"success",autoDismiss:!0}):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))}},t.handleTestPrinter=function(){var e=t.props.toastManager,a=t.state.printer;_.a.get(a).then((function(a){e.add(a.data,{appearance:"success",autoDismiss:!0})})).catch((function(a){a.response?e.add(a.response.data.message,{appearance:"error",autoDismiss:!0}):e.add("Printer tidak tersambung",{appearance:"error",autoDismiss:!0})}))},t.handleTesReceipt=function(){var e=t.props.toastManager,a=sessionStorage.getItem("printer")?sessionStorage.getItem("printer"):"http://localhost:4000",n=t.state,r=n.name,s=n.address,c=n.logo_url,l=n.logo_remove,o=n.phone_number,i=n.divider,m=n.currency,d=n.thousand_separator;t.setState(Object(E.a)({},t.state,{loadingTestReceipt:!0})),_.a.post("".concat(a,"/preview"),{name:r,address:s,logo:c,logo_remove:l,phone_number:o,divider:t.divider(i,30),cashier:sessionStorage.getItem("name"),date:q()(new Date).format("DD MMM YYYY HH:mm"),number:"198383811001",carts:[{name:"Minuman Berenergi",price:"".concat(m,"12").concat(d,"000"),qty:1,subtotal:"".concat(m,"12").concat(d,"000")},{name:"Makanan Ringan",price:"".concat(m,"8").concat(d,"000"),qty:2,subtotal:"".concat(m,"16").concat(d,"000"),discount_amount:"".concat(m,"8").concat(d,"000")}],total_discount:"".concat(m,"8").concat(d,"000"),total:"".concat(m,"20").concat(d,"000"),subtotal:"".concat(m,"28").concat(d,"000"),tax:"".concat(m,"0"),payment_type:"Tunai",amount:"".concat(m,"20").concat(d,"000"),change:"".concat(m,"0")}).then((function(a){e.add(a.data.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{loadingTestReceipt:!1}))})).catch((function(a){a.response?e.add(a.response.data.message,{appearance:"error",autoDismiss:!0}):e.add("Printer tidak tersambung",{appearance:"error",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{loadingTestReceipt:!1}))}))},t.componentDidMount=function(){t.props.getSetting()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,n=a.name,c=a.address,l=a.logo,o=a.logo_remove,i=a.logo_url,m=a.phone_number,d=a.divider,u=a.currency,p=a.thousand_separator,g=a.decimal_separator,h=a.tax,E=a.printer,b=a.loadingTestReceipt,f=this.props,N=f.fetching,v=f.error,_=v&&v.data&&v.data.errors;return v&&422!==v.status?s.a.createElement(C,{title:v.statusText,message:v.data.message,code:v.status,connection:v.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Pengaturan"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("nav",null,s.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},s.a.createElement("a",{className:"nav-item nav-link active",id:"nav-general","data-toggle":"tab",href:"#general",role:"tab","aria-controls":"general","aria-selected":"true"},"Umum"),s.a.createElement("a",{className:"nav-item nav-link",id:"nav-other","data-toggle":"tab",href:"#other",role:"tab","aria-controls":"other","aria-selected":"false"},"Lainnya"))),s.a.createElement("div",{className:"tab-content mt-5",id:"nav-tabContent"},s.a.createElement("div",{className:"tab-pane fade show active",id:"general",role:"tabpanel","aria-labelledby":"nav-general"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama Toko"),s.a.createElement("input",{type:"text",value:n,onChange:function(a){return e.handleChange("name",a.target.value)},placeholder:"Nama Toko",className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat Toko"),s.a.createElement("textarea",{type:"text",value:c,onChange:function(a){return e.handleChange("address",a.target.value)},placeholder:"Gunakan enter untuk garis baru",className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Logo"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("input",{accept:"image/jpg, image/png",type:"file",ref:function(a){return e.uploadLogo=a},onChange:function(a){return e.handleChange("logo",a.target.files[0])},className:"form-control"})),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",checked:o,onChange:function(a){return e.handleChange("logo_remove",a.target.checked)},type:"checkbox",id:"removeImage"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"removeImage"},"Hapus Logo"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telepon Toko"),s.a.createElement("input",{type:"text",value:m,onChange:function(a){return e.handleChange("phone_number",a.target.value)},placeholder:"Nomor Telepon Toko",className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Garis Pembatas"),s.a.createElement("input",{type:"text",value:d,onChange:function(a){return e.handleChange("divider",a.target.value)},placeholder:"Garis Pembatas Struk",className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Mata Uang"),s.a.createElement("input",{type:"text",value:u,onChange:function(a){return e.handleChange("currency",a.target.value)},placeholder:"Mata Uang",className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"label-control"},"Separator Ribuan"),s.a.createElement("input",{type:"text",value:p,onChange:function(a){return e.handleChange("thousand_separator",a.target.value)},placeholder:"Separator Ribuan",className:"form-control ".concat(_&&_.thousand_separator&&"is-invalid")}),_&&_.thousand_separator&&s.a.createElement("div",{className:"invalid-feedback"},_.thousand_separator[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"label-control"},"Separator Desimal"),s.a.createElement("input",{type:"text",value:g,onChange:function(a){return e.handleChange("decimal_separator",a.target.value)},placeholder:"Separator Desimal",className:"form-control ".concat(_&&_.decimal_separator&&"is-invalid")}),_&&_.decimal_separator&&s.a.createElement("div",{className:"invalid-feedback"},_.decimal_separator[0]))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("p",null,"Hasil Struk"),s.a.createElement("div",{className:"receipt pb-5"},s.a.createElement("h5",{className:"text-center m-0"},n),s.a.createElement("p",{className:"text-center m-0"},!o&&s.a.createElement("img",{src:l?URL.createObjectURL(l):i||t(337),width:"200",alt:"Toko Sukamakmur",style:{filter:"grayscale(1)"}})),s.a.createElement("p",{className:"text-center m-0"},c&&c.split("\n").map((function(e,a){return s.a.createElement(r.Fragment,{key:a},e,s.a.createElement("br",null))}))),s.a.createElement("p",{className:"text-center m-0"},m&&"Telp. ".concat(m)),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Nomor"),s.a.createElement("div",null,"198383811001")),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Tanggal/Waktu"),s.a.createElement("div",null,q()(new Date).format("DD MMM YYYY HH:mm"))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Kasir"),s.a.createElement("div",null,sessionStorage.getItem("name"))),s.a.createElement("p",{className:"text-center m-0"},this.divider(d)),s.a.createElement("p",{className:"m-0"},"Minuman Berenergi"),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"x1 ",s.a.createElement(K.a,{allowedDecimalSeparators:[",","."],prefix:u,value:12e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"})),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:12e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("p",{className:"m-0"},"Makanan Ringan"),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"x2 ",s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:8e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"})),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:16e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Diskon"),s.a.createElement("div",null,"-",s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:8e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("p",{className:"text-center m-0"},this.divider(d)),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Subtotal"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:28e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Pajak"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:0,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Total Diskon"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:8e3,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Total"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:2e4,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Tunai"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:2e4,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",null,"Kembalian"),s.a.createElement("div",null,s.a.createElement(K.a,{prefix:u,allowedDecimalSeparators:[",","."],value:0,thousandSeparator:p,decimalSeparator:g!==p?g:","===p?".":",",displayType:"text"}))),s.a.createElement("p",{className:"text-center m-0"},this.divider(d)),s.a.createElement("br",null),s.a.createElement("p",{className:"m-0 text-center"},"Terimakasih Telah Berkunjung"),s.a.createElement("p",{className:"m-0 text-center"},"Dibuat oleh Kasir Kita")),s.a.createElement("button",{className:"btn btn-primary mr-2 mt-2 ".concat(b?"btn-disabled":""),disabled:b,onClick:this.handleTesReceipt},b?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-printer mr-2 mr-2"})," Tes Struk")))),s.a.createElement("div",{className:"tab-pane fade",id:"other",role:"tabpanel","aria-labelledby":"nav-other"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("h2",null,"Printer"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"URL Printer"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",placeholder:"http://...",value:E,onChange:function(a){return e.handleChange("printer",a.target.value)},className:"form-control"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:this.handleTestPrinter,className:"btn btn-outline-secondary",type:"button"},"Tes Koneksi Printer"))))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("h2",null,"Pajak"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"PPN"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement(K.a,{placeholder:"Persentase",value:h,onValueChange:function(a){return e.handleChange("tax",a.floatValue)},className:"form-control"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("span",{className:"input-group-text"},"%"))))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{className:"btn btn-primary mr-2 ".concat(N?"btn-disabled":""),disabled:N,onClick:this.handleSave},N?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"})," Simpan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))))}}]),a}(r.Component),ha=Object(k.b)((function(e){return Object(E.a)({},e,{setting:e.setting.setting,message:e.setting.message,fetching:e.setting.fetching,fetched:e.setting.fetched,success:e.setting.success,type:e.setting.type,error:e.setting.error})}),(function(e){return{getSetting:function(){return e((function(e,a){e({type:"GET_SETTING_PENDING"}),_.a.get("".concat(n,"/setting"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(a){e({type:"GET_SETTING_SUCCESS",data:a.data.data,success:!0})})).catch((function(a){a.response?e({type:"GET_SETTING_FAILED",error:a.response,message:a.response.data.message}):e({type:"GET_SETTING_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}))},saveSetting:function(a){return e(function(e){return function(a,t){var r=e.name,s=e.address,c=e.logo,l=e.logo_remove,o=e.phone_number,i=e.divider,m=e.currency,d=e.thousand_separator,u=e.decimal_separator,p=e.tax,g=e.printer;a({type:"SAVE_SETTING_PENDING"});var h=new FormData;h.set("name",r),h.set("address",s),h.append("logo",c),h.set("logo_remove",l),h.set("phone_number",o),h.set("divider",i),h.set("currency",m),h.set("thousand_separator",d),h.set("decimal_separator",u),h.set("tax",p),h.set("printer",g),_.a.post("".concat(n,"/setting"),h,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){sessionStorage.setItem("decimal_separator",e.data.data.decimal_separator?e.data.data.decimal_separator:""),sessionStorage.setItem("thousand_separator",e.data.data.thousand_separator?e.data.data.thousand_separator:""),sessionStorage.setItem("currency",e.data.data.currency?e.data.data.currency:""),sessionStorage.setItem("printer",e.data.data.printer?e.data.data.printer:""),sessionStorage.setItem("tax",e.data.data.tax?e.data.data.tax:""),sessionStorage.setItem("logo",e.data.data.logo_url),sessionStorage.setItem("logo_remove",!!e.data.data.logo_remove&&e.data.data.logo_remove),sessionStorage.setItem("shop_name",e.data.data.name?e.data.data.name:""),sessionStorage.setItem("address",e.data.data.address?e.data.data.address:""),sessionStorage.setItem("phone_number",e.data.data.phone_number?e.data.data.phone_number:""),sessionStorage.setItem("divider",e.data.data.divider?e.data.data.divider:""),a({type:"SAVE_SETTING_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_SETTING_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_SETTING_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(ga)),Ea=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={ordering:{type:"product_name",sort:"asc"},deleteModal:!1,keyword:"",page:1,perpage:10,deletedId:"",filter:"all",printing:!1},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchDiscount(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handlePrint=function(e){return function(a){var n=t.props,r=n.selected,s=n.toastManager;r<1?s.add("Harap pilih dulu data",{appearance:"warning",autoDismiss:!0}):"thermal"===e?t.handlePrintThermal():t.handlePrintPdf()}},t.handlePrintPdf=function(){t.setState(Object(E.a)({},t.state,{printing:!0})),_.a.get("".concat(n,"/discount/print"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))},responseType:"blob"}).then((function(e){ne()(e.data,"print_label_discount.pdf"),t.setState(Object(E.a)({},t.state,{printing:!1}))})).catch((function(e){t.setState(Object(E.a)({},t.state,{printing:!1}))}))},t.handlePrintThermal=function(){t.setState(Object(E.a)({},t.state,{printing:!0})),_.a.get("".concat(n,"/discount/print-thermal"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t.handlePrintLabel(e.data.data)}))},t.handlePrintLabel=function(e){var a=t.props.toastManager,n=sessionStorage.getItem("printer");_.a.post("".concat(n,"/label-discount"),{data:e}).then((function(e){a.add(e.data.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{printing:!1}))})).catch((function(e){e.response?a.add(e.response.data.message,{appearance:"error",autoDismiss:!0}):a.add("Printer tidak tersambung",{appearance:"error",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{printing:!1}))}))},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchDiscount({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchDiscount({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleModal=function(){t.setState(Object(E.a)({},t.state,{modal:!0}))},t.handleCloseModal=function(){t.setState(Object(E.a)({},t.state))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1,deletedId:""}))},t.handleDelete=function(){t.props.deleteDiscount(t.state.deletedId)},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchDiscount({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleDiscount(a)},t.handleSelected=function(e){var a=e.target.value;t.props.selectDiscount(a)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||"delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchDiscount(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))},t.componentDidMount=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchDiscount({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.perpage,l=a.filter,o=a.printing,i=this.props,m=i.data,d=i.fetching,u=i.error,g=i.selected,h=m&&m.data;return u&&422!==u.status?s.a.createElement(C,{title:u.statusText,message:u.data.message,code:u.status,connection:u.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus barang")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan barang")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Promo"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement(p.b,{to:"/discount/create",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"),s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ".concat(o?"disabled":""),disabled:o,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-printer mr-2"}),"Cetak label"),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement("button",{className:"dropdown-item pointer",onClick:this.handlePrint("thermal")},"Cetak dengan thermal"),s.a.createElement("button",{className:"dropdown-item pointer",onClick:this.handlePrint("pdf")},"Cetak dengan PDF"))),s.a.createElement("div",{className:"d-flex justofy-content-start mt-2"},s.a.createElement("small",{className:"text-muted"},"Barang terpilih (",g||0,")"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{value:l,onChange:this.handleChangeSelect("filter"),className:"form-control"},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"),s.a.createElement("option",{value:"selected"},"Hanya yang dipilih"),s.a.createElement("option",{value:"unselected"},"Hanya yang tidak dipilih"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"product_name",value:"Nama",sortable:!0},{name:"amount",value:"Diskon",sortable:!0},{name:"valid_thru",value:"Berlaku Sampai",sortable:!0},{name:"term",value:"Ketentuan",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},d?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):h&&h.length>0?h.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,s.a.createElement("div",{className:"form-check mt-0"},s.a.createElement("input",{className:"form-check-input",id:a._id,onClick:e.handleSelected,value:a._id,type:"checkbox",defaultChecked:!!a.selected}),s.a.createElement("label",{className:"form-check-label",htmlFor:a._id},a.product&&a.product.name))),s.a.createElement("td",null,a.amount_formatted),s.a.createElement("td",null,a.valid_thru_formatted),s.a.createElement("td",null,a.term_formatted),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{onClick:e.handleActive,value:a._id,type:"checkbox",defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-sm mr-3"},"Hapus"),s.a.createElement(p.b,{to:"/discount/edit/".concat(a._id),className:"btn p-0 text-success btn-link btn-sm mr-3"},"Ubah")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},m&&m.total>1&&s.a.createElement("p",null,"Menampilkan ",m&&m.from.toLocaleString()," s/d ",m&&m.to.toLocaleString()," dari ",m&&m.total.toLocaleString()," data"),m&&m.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},m.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page-1)},className:"page-link"},"Prev")),m.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===m.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),m.current_page<m.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(m.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:c,onChange:this.handleChangeSelect("perpage"),className:"form-control"},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),ba=Object(k.b)((function(e){return{fetching:e.discount.fetching,error:e.discount.error,data:e.discount.data,type:e.discount.type,success:e.discount.success,message:e.discount.message,selected:e.discount.selected}}),(function(e){return{fetchDiscount:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_DISCOUNT_PENDING"}),_.a.get("".concat(n,"/discount"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_DISCOUNT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_DISCOUNT_FAILED",error:e.response}):a({type:"FETCH_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleDiscount:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_DISCOUNT_PENDING"}),_.a.delete("".concat(n,"/discount/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_DISCOUNT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteDiscount:function(a){return e(function(e){return function(a,t){a({type:"DELETE_DISCOUNT_PENDING"}),_.a.delete("".concat(n,"/discount/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_DISCOUNT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},selectDiscount:function(a){return e(function(e){return function(a,t){a({type:"SELECT_DISCOUNT_PENDING"}),_.a.get("".concat(n,"/discount/select/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SELECT_DISCOUNT_SUCCESS",message:e.data.message,selected:e.data.selected,success:!0})})).catch((function(e){e.response?a({type:"SELECT_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):a({type:"SELECT_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ea)),fa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={valid_thru:void 0,amount:"",type:"fix",term:">",total_qty:"",quota:"",customer_id:"",customer_name:"",product_name:"",product_id:""},t.handleChange=function(e,a){a&&t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChangeSelect=function(e,a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))},t.handleSave=function(){t.props.saveDiscount(t.state)},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{valid_thru:null,amount:"",type:"fix",term:"",total_qty:"",quota:"",customer_type:"",product_name:"",product_id:""}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;if((e.type!==t.props.type||e.success!==t.props.success)&&"save"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/discount");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.valid_thru,n=a.amount,c=a.type,l=a.term,o=a.total_qty,i=a.quota,m=a.customer_id,d=a.customer_name,u=a.product_name,g=a.product_id,h=this.props,E=h.fetching,b=h.error,f=b&&b.data&&b.data.errors;return b&&422!==b.status?s.a.createElement(C,{title:b.statusText,message:b.data.message,code:b.status,connection:b.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Promo")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/discount"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Barang ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(B.a,{selected:g?{value:g,label:u}:null,onChange:function(a){return e.handleChangeSelect("product",a)},loadOptions:va,cacheOptions:!0,defaultOptions:!0,isClearable:!0,placeholder:"Pilih Barang",className:"".concat(f&&f.product_id?"is-invalid-select":"")}),f&&f.product_id&&s.a.createElement("small",{className:"text-danger"},f.product_id[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe Pelanggan"),s.a.createElement(Ve.a,{onChange:function(a){return e.handleChangeSelect("customer",a)},selected:m?{value:m,label:d}:null,options:[{label:"Pengecer",value:"retailer"},{label:"Grosir",value:"wholesaler"}],isClearable:!0,placeholder:"Pilih Tipe Pelanggan"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Berlaku sampai ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Ee.a,{onChange:function(a){return e.handleChange("valid_thru",a)},style:{display:"block"},placeholderText:"dd/mm/yyyy",className:"form-control ".concat(f&&f.valid_thru?"is-invalid":""),selected:t}),f&&f.valid_thru&&s.a.createElement("div",{style:{display:"flex"},className:"invalid-feedback"},f.valid_thru[0]))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kuota"),s.a.createElement(K.a,{value:i,onValueChange:function(a){return e.handleChange("quota",a.floatValue)},className:"form-control text-right",placeholder:"Kuota"}))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"help-block text-muted"},"*) Mengkosongkan kuota berarti promo tidak terbatas")))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Jumlah ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(K.a,{value:n,onValueChange:function(a){return e.handleChange("amount",a.floatValue)},className:"form-control text-right ".concat(f&&f.amount?"is-invalid":""),placeholder:"Jumlah"}),f&&f.amount&&s.a.createElement("div",{className:"invalid-feedback"},f.amount[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("select",{value:c,onChange:function(a){return e.handleChange("type",a.target.value)},className:"form-control ".concat(f&&f.type?"is-invalid":"")},s.a.createElement("option",{value:"fix"},"Tetap"),s.a.createElement("option",{value:"percentage"},"Persentase")),f&&f.type&&s.a.createElement("div",{className:"invalid-feedback"},f.type[0])),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ketentuan",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("select",{value:l,onChange:function(a){return e.handleChange("term",a.target.value)},className:"form-control ".concat(f&&f.term?"is-invalid":"")},s.a.createElement("option",{value:">"},"Lebih dari"),s.a.createElement("option",{value:"="},"Sama dengan")),f&&f.term&&s.a.createElement("div",{className:"invalid-feedback"},f.term[0]))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Total Produk",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(K.a,{type:"text",value:o,onValueChange:function(a){return e.handleChange("total_qty",a.floatValue)},className:"form-control text-right ".concat(f&&f.total_qty?"is-invalid":""),placeholder:"Total Produk"}),f&&f.total_qty&&s.a.createElement("div",{className:"invalid-feedback"},f.total_qty[0]))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{className:"btn btn-primary mr-2 ".concat(E?"btn-disabled":""),disabled:E,onClick:this.handleSave},E?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"})," Simpan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),Na=function(e){return Object(R.a)(e)},va=function(e,a){_.a.get("".concat(n,"/product/list"),{params:{keyword:e,discount:!0},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Na(a)}(e.data.data))}))},_a=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.discount.message,fetching:e.discount.fetching,error:e.discount.error,success:e.discount.success,type:e.discount.type})}),(function(e){return{saveDiscount:function(a){return e(function(e){return function(a,t){var r=e.valid_thru,s=e.amount,c=e.type,l=e.term,o=e.total_qty,i=e.quota,m=e.customer_id,d=e.customer_name,u=e.product_name,p=e.product_id;a({type:"SAVE_DISCOUNT_PENDING"}),_.a.post("".concat(n,"/discount"),{valid_thru:r?q()(r).format("YYYY-MM-DD"):null,amount:s,type:c,term:l,total_qty:o,quota:i,customer_type:m,customer_type_name:d,product_name:u,product_id:p},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_DISCOUNT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(fa)),ya=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={agree:!1,name:"",email:"",password:"",password_confirmation:""},t.handleAgree=function(e){t.setState(Object(E.a)({},t.state,{agree:e.target.checked}))},t.componentDidUpdate=function(e){if(e.checkUserExists!==t.props.checkUserExists&&t.props.checkUserExists)return t.props.history.push("/login");if(e.registerSuccess!==t.props.registerSuccess){var a=t.props.toastManager;if(t.props.registerSuccess)return a.add(t.props.registerMessage,{appearance:"success",autoDismiss:!0}),t.props.history.push("/dashboard");a.add(t.props.registerMessage,{appearance:"error",autoDismiss:!0})}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSubmit=function(e){e.preventDefault(),t.props.register(t.state)},t.componentDidMount=function(){t.props.checkUser()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.checkFetching,t=e.checkError,n=e.registerFetching,r=e.registerError,c=this.state,l=c.agree,o=c.name,i=c.email,m=c.password,d=c.password_confirmation,u=r&&r.data&&r.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement("div",{className:"d-flex justify-content-center align-content-center mt-5"},a&&s.a.createElement(D,null),s.a.createElement("div",{className:"col-8 border p-5"},s.a.createElement("p",null,s.a.createElement("i",{className:"mdi mdi-desktop-classic mr-2"}),"Kasir Kita 2.0"),s.a.createElement("h1",null,"Selamat Datang"),s.a.createElement("p",null,"Baru pertama kali install ya? Ayo isi data nya dulu disini"),s.a.createElement("hr",null),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Siapa nama kamu?"),s.a.createElement("input",{type:"text",className:"form-control ".concat(u&&u.name&&"is-invalid"),placeholder:"Nama",onChange:this.handleChange("name"),value:o}),u&&u.name&&s.a.createElement("div",{className:"invalid-feedback"},u.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Apa email kamu?"),s.a.createElement("input",{type:"email",className:"form-control ".concat(u&&u.email&&"is-invalid"),placeholder:"Email",onChange:this.handleChange("email"),value:i}),u&&u.email&&s.a.createElement("div",{className:"invalid-feedback"},u.email[0])),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Masukin password?"),s.a.createElement("input",{type:"password",className:"form-control ".concat(u&&u.password&&"is-invalid"),placeholder:"Password",onChange:this.handleChange("password"),value:m}),u&&u.password&&s.a.createElement("div",{className:"invalid-feedback"},u.password[0]))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ulangi passwordnya"),s.a.createElement("input",{type:"password",className:"form-control",placeholder:"Ulangi Password",onChange:this.handleChange("password_confirmation"),value:d})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Syarat dan Ketentuan"),s.a.createElement("div",{className:"term-and-condition"},s.a.createElement("p",null,"Aplikasi ini 100% Gratis, tetapi jika menginginkan penambahan fitur dan atau cara menjalakan aplikasi silahkan chat melalui whatsapp 089611081675 Adapun ketentuan pada penggunaan aplikasi ini adalah"),s.a.createElement("ul",null,s.a.createElement("li",null,"Tidak boleh dikomersilkan dalam bentuk apapun"),s.a.createElement("li",null,"Tidak boleh menyalin dan menyebarkan ulang kode tanpa sepengetahuan author"),s.a.createElement("li",null,"Tidak boleh menghapus credit pada aplikasi")),s.a.createElement("p",null,"Jika ingin berkontribusi, silahkan lakukan fork pada repository github ini : ",s.a.createElement("a",{href:"https://github.com/kasirkita/Kasir-Kita"},"https://github.com/kasirkita/Kasir-Kita")),s.a.createElement("p",null,"Bisa juga melaukan donasi untuk mendukung author dengan seikhlasnya disini"),s.a.createElement("table",{className:"table"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/dana.png"},s.a.createElement("img",{src:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/dana.png",alt:"Dana",width:"120"}))),s.a.createElement("td",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/ovo.png"},s.a.createElement("img",{src:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/ovo.png",alt:"Ovo",width:"120"}))),s.a.createElement("td",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/paypal.png"},s.a.createElement("img",{src:"https://github.com/kasirkita/Kasir-Kita/raw/master/github/paypal.png",alt:"Paypal",width:"120"})))))))),s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"agree",checked:l,onChange:this.handleAgree}),s.a.createElement("label",{className:"form-check-label",htmlFor:"agree"},"Saya sudah setuju")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 text-right"},l?n?s.a.createElement("button",{type:"button",className:"btn btn-primary btn-disabled",disabled:!0,alt:"loading"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading..."):s.a.createElement("button",{type:"submit",className:"btn btn-primary"},s.a.createElement("i",{className:"mdi mdi-check mr-2"}),"Submit"):s.a.createElement("button",{type:"button",className:"btn btn-primary btn-disabled",disabled:!0,alt:"Harus setuju dulu"},s.a.createElement("i",{className:"mdi mdi-check mr-2"}),"Submit"))))))}}]),a}(r.Component),ka=Object(k.b)((function(e){return{checkFetching:e.checkUser.fetching,checkFetched:e.checkUser.fetched,checkUserExists:e.checkUser.userExists,checkError:e.checkUser.error,registerFetching:e.register.fetching,registerFetched:e.register.fetched,registerError:e.register.error,registerMessage:e.register.message,registerSuccess:e.register.success}}),(function(e){return{checkUser:function(){return e(y())},register:function(a){return e(function(e){return function(){var a=Object(N.a)(f.a.mark((function a(t,r){var s,c,l,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.name,c=e.email,l=e.password,o=e.password_confirmation,t({type:"REGISTER_PENDING"}),a.next=4,_.a.post("".concat(n,"/register"),{name:s,email:c,password:l,password_confirmation:o}).then((function(e){var a=e.data.setting;sessionStorage.setItem("decimal_separator",a?a.decimal_separator:"."),sessionStorage.setItem("thousand_separator",a?a.thousand_separator:"."),sessionStorage.setItem("currency",a?a.currency:""),sessionStorage.setItem("printer",a?a.printer:""),sessionStorage.setItem("tax",a?a.tax:""),sessionStorage.setItem("logo",a.logo_url),sessionStorage.setItem("logo_remove",!!a.logo_remove&&a.logo_remove),sessionStorage.setItem("shop_name",a.name?a.name:""),sessionStorage.setItem("address",a.address?a.address:""),sessionStorage.setItem("phone_number",a.phone_number?a.phone_number:""),sessionStorage.setItem("divider",a.divider?a.divider:""),t({type:"REGISTER_SUCCESS",token:e.data.token,data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"REGISTER_FAILED",error:e.response}):t({type:"REGISTER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(a))}}}))(Object(T.withToastManager)(ya)),Sa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={code:"",name:"",cost:"",price:"",wholesale:"",unit_id:"",unit_label:"",category_id:"",category_label:"",stock:""},t.handleSave=function(){t.props.updateProduct(t.props.match.params.id,t.state)},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_label"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_label"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/product");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.product!==e.product){var n=t.props.product;t.setState(Object(E.a)({},t.state,{code:n.code,name:n.name,cost:n.cost,price:n.price,wholesale:n.wholesale,unit_id:n.unit&&n.unit.name,unit_label:n.unit&&n.unit.name,category_id:n.category&&n.category.name,category_label:n.category&&n.category.name,stock:n.qty&&n.qty.amount}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProduct(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,a=e.isModal,t=e.error,n=e.fetching,c=this.state,l=c.code,o=c.name,i=c.cost,m=c.price,d=c.wholesale,u=c.unit_id,g=c.unit_label,h=c.category_id,E=c.category_label,b=c.stock,f=t&&t.data&&t.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},!a&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Barang")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/product"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kode ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control ".concat(f&&f.code&&"is-invalid"),onChange:this.handleChange("code"),value:l,placeholder:"Kode Barang"}),f&&f.code&&s.a.createElement("div",{className:"invalid-feedback"},f.code[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control ".concat(f&&f.name&&"is-invalid"),onChange:this.handleChange("name"),value:o,placeholder:"Nama Barang"}),f&&f.name&&s.a.createElement("div",{className:"invalid-feedback"},f.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Beli ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"cost",value:i,validate:f,handleChangeNumber:this.handleChangeNumber("cost")}),f&&f.cost&&s.a.createElement("div",{className:"invalid-feedback"},f.cost[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Jual ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"price",value:m,validate:f,handleChangeNumber:this.handleChangeNumber("price")}),f&&f.price&&s.a.createElement("div",{className:"invalid-feedback"},f.price[0]))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga Grosir ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{name:"wholesale",value:d,validate:f,handleChangeNumber:this.handleChangeNumber("wholesale")}),f&&f.wholesale&&s.a.createElement("div",{className:"invalid-feedback"},f.wholesale[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Satuan"),s.a.createElement(ce.a,{isClearable:!0,onChange:this.handleChangeSelect("unit"),value:u&&{label:g,value:u},placeholder:"Pilih atau ketik baru",loadOptions:Ta,cacheOptions:!0,defaultOptions:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kategori"),s.a.createElement(ce.a,{isClearable:!0,onChange:this.handleChangeSelect("category"),value:h&&{label:E,value:h},placeholder:"Pilih atau ketik baru",loadOptions:Oa,cacheOptions:!0,defaultOptions:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Stok ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",readOnly:!0,className:"form-control btn-disabled text-right ".concat(f&&f.stock&&"is-invalid"),value:b,placeholder:"0.0"}),f&&f.stock&&s.a.createElement("div",{className:"invalid-feedback"},f.stock[0])))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),n?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan Perubahan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),Ca=function(e){return Object(R.a)(e)},Oa=function(e,a){_.a.get("".concat(n,"/category/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e.name}}));return Ca(a)}(e.data.data))}))},Da=function(e){return Object(R.a)(e)},Ta=function(e,a){_.a.get("".concat(n,"/unit/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e.name}}));return Da(a)}(e.data.data))}))},ja=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.product.message,fetching:e.product.fetching,error:e.product.error,success:e.product.success,type:e.product.type,product:e.product.product})}),(function(e){return{updateProduct:function(a,t){return e(function(e,a){return function(t,r){var s=a.code,c=a.name,l=a.cost,o=a.price,i=a.wholesale,m=a.unit_id,d=a.unit_label,u=a.category_id,p=a.category_label,g=a.stock;t({type:"UPDATE_PRODUCT_PENDING"}),_.a.post("".concat(n,"/product/").concat(e),{code:s,name:c,cost:l,price:o,wholesale:i,unit_id:m,unit_label:d,category_id:u,category_label:p,stock:g},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_PRODUCT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_PRODUCT_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_PRODUCT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getProduct:function(a){return e(ee(a))}}}))(Object(T.withToastManager)(Sa)),xa=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProduct(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.product;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,e&&e.name)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/product"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Kode"),s.a.createElement("td",null,e&&e.code),s.a.createElement("th",null,"Harga Jual"),s.a.createElement("td",null,e&&e.price_formatted)),s.a.createElement("tr",null,s.a.createElement("th",null,"Harga Beli"),s.a.createElement("td",null,e&&e.cost_formatted),s.a.createElement("th",null,"Harga Grosir"),s.a.createElement("td",null,e&&e.wholesale_formatted)),s.a.createElement("tr",null,s.a.createElement("th",null,"Kategori"),s.a.createElement("td",null,e&&e.category&&e.category.name),s.a.createElement("th",null,"Stok"),s.a.createElement("td",null,e&&e.qty&&e.qty.amount,"/",e&&e.unit&&e.unit.name)))))))}}]),a}(r.Component),Pa=Object(k.b)((function(e){return Object(E.a)({},e,{product:e.product.product})}),(function(e){return{getProduct:function(a){return e(ee(a))}}}))(xa),wa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={ordering:{type:"name",sort:"asc"},deleteModal:!1,createModal:!1,keyword:"",page:1,perpage:10,deletedId:"",updatedId:"",filter:"all",title:"Tambah satuan baru",name:""},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSearch=function(){var e=t.state,a=e.ordering,n=e.keyword,r=e.page,s=e.perpage,c=e.filter;t.props.fetchUnit({ordering:a,keyword:n,page:r,perpage:s,filter:c})},t.handleSorting=function(e){var a=e.target.id,n=t.state.ordering.sort,r=t.state,s=r.keyword,c=r.page,l=r.perpage,o=r.filter;t.props.fetchUnit({ordering:{type:a,sort:"asc"===n?"desc":"asc"},keyword:s,page:c,perpage:l,filter:o}),t.setState(Object(E.a)({},t.state,{ordering:{type:a,sort:"asc"===n?"desc":"asc"}}))},t.handleDeleteModal=function(e){t.setState(Object(E.a)({},t.state,{deleteModal:!0,deletedId:e}))},t.handleDelete=function(){t.props.deleteUnit(t.state.deletedId)},t.handleCloseDeleteModal=function(){t.setState(Object(E.a)({},t.state,{deleteModal:!1}))},t.handleCreateModal=function(){t.setState(Object(E.a)({},t.state,{createModal:!0}))},t.handleCloseCreateModal=function(){t.setState(Object(E.a)({},t.state,{createModal:!1,title:"Tambah satuan baru",name:"",updatedId:""}))},t.handleChangeSelect=function(e){return function(a){var n=t.state,r=n.keyword,s=n.page,c=n.perpage,l=n.ordering,o=n.filter;t.props.fetchUnit(Object(h.a)({keyword:r,page:s,perpage:c,ordering:l,filter:o},e,a.target.value)),t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleClickPage=function(e){var a=t.state,n=a.ordering,r=a.keyword,s=a.perpage,c=a.filter;t.props.fetchUnit({ordering:n,keyword:r,page:e,perpage:s,filter:c}),t.setState(Object(E.a)({},t.state,{page:e}))},t.handleActive=function(e){var a=e.target.value;t.props.toggleUnit(a)},t.handleUpdate=function(e){t.props.getUnit(e),t.setState(Object(E.a)({},t.state,{title:"Ubah satuan",createModal:!0}))},t.handleSubmit=function(){t.state.updatedId?t.props.updateUnit(t.state.updatedId,t.state):t.props.saveUnit(t.state)},t.componentDidUpdate=function(e){var a=t.props.toastManager;e.type===t.props.type&&e.success===t.props.success||("delete"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.setState(Object(E.a)({},t.state,{deleteModal:!1})),t.props.fetchUnit(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"save"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.handleCloseCreateModal(),t.props.fetchUnit(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"update"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.handleCloseCreateModal(),t.props.fetchUnit(t.state)):a.add(t.props.message,{appearance:"error",autoDismiss:!0}))),t.props.unit!==e.unit&&t.setState(Object(E.a)({},t.state,{updatedId:t.props.unit._id,name:t.props.unit.name}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.ordering,t=e.keyword,n=e.page,r=e.perpage,s=e.filter;this.props.fetchUnit({ordering:a,keyword:t,page:n,perpage:r,filter:s})}},{key:"render",value:function(){var e=this,a=this.state,t=a.ordering,n=a.deleteModal,c=a.createModal,l=a.perpage,o=a.title,i=a.updatedId,m=a.name,d=this.props,u=d.data,p=d.fetching,g=d.error,h=u&&u.data,E=g&&g.data&&g.data.errors;return g&&422!==g.status?s.a.createElement(C,{title:g.statusText,message:g.data.message,code:g.status,connection:g.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",null,"Satuan"),s.a.createElement("hr",null)),s.a.createElement(F.a,{visible:n,dialogClassName:"modal-sm",onClickBackdrop:this.handleCloseDeleteModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseDeleteModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Hapus satuan")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"Apakah anda yakin? Harap berhati-hati, data yang di hapus tidak bisa di kembalikan, gunakan opsi jangan centang aktif untuk menonaktifkan satuan")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseDeleteModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleDelete},s.a.createElement("i",{className:"mdi mdi-alert mr-2"}),"Hapus data"))),s.a.createElement(F.a,{visible:c,dialogClassName:"modal-md",onClickBackdrop:this.handleCloseCreateModal},s.a.createElement("button",{className:"btn btn-outline-secondary border-0 m-3 btn-close-modal",onClick:this.handleCloseCreateModal},"\xd7"),s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},o)),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama"),s.a.createElement("input",{type:"text",value:m,onChange:this.handleChange("name"),className:"form-control ".concat(E&&E.name?"is-invalid":""),placeholder:"Nama satuan"}),E&&E.name&&s.a.createElement("div",{className:"invalid-feedback"},E.name[0])))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCloseCreateModal},s.a.createElement("i",{className:"mdi mdi-close mr-2"}),"Tutup"),s.a.createElement("button",{type:"button",className:"btn btn-primary ".concat(p?"btn-disabled":""),disabled:p,onClick:this.handleSubmit},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),i?"Simpan Perubahan":"Simpan"))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-start"},s.a.createElement("button",{onClick:this.handleCreateModal,className:"btn btn-primary"},s.a.createElement("i",{className:"mdi mdi-plus mr-2"}),"Tambah Baru"))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group mr-4"},s.a.createElement("label",{className:"control-label"},"Filter"),s.a.createElement("select",{className:"form-control",onChange:this.handleChangeSelect("filter")},s.a.createElement("option",{value:"all"},"Semua"),s.a.createElement("option",{value:"active"},"Hanya yang aktif"),s.a.createElement("option",{value:"inactive"},"Hanya yang tidak aktif"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Pencarian"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",onKeyPress:function(a){return"Enter"===a.key&&e.handleSearch()},onChange:this.handleChange("keyword"),placeholder:"Kata kunci"}),s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleSearch,type:"button"},s.a.createElement("i",{className:"mdi mdi-magnify"}))))))))),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement($,{theads:[{name:"name",value:"Nama",sortable:!0},{name:"is_active",value:"Aktif",sortable:!1},{name:"options",value:"Opsi",sortable:!1}],ordering:t,handleSorting:this.handleSorting},p?s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Loading ...")):h&&h.length>0?h.map((function(a){return s.a.createElement("tr",{key:a._id},s.a.createElement("td",null,a.name),s.a.createElement("td",{className:"text-center"},s.a.createElement("input",{type:"checkbox",value:a._id,onClick:e.handleActive,defaultChecked:!a.deleted_at})),s.a.createElement("td",null,s.a.createElement("button",{onClick:function(){return e.handleDeleteModal(a._id)},className:"btn p-0 text-danger btn-link btn-small mr-3"},"Hapus"),s.a.createElement("button",{onClick:function(){return e.handleUpdate(a._id)},className:"btn p-0 text-success btn-link btn-small"},"Ubah")))})):s.a.createElement("tr",null,s.a.createElement("td",{className:"text-center",colSpan:"6"},"Belum ada data"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-2"},u&&u.total>1&&s.a.createElement("p",null,"Menampilkan ",u&&u.from.toLocaleString()," s/d ",u&&u.to.toLocaleString()," dari ",u&&u.total.toLocaleString()," data"),u&&u.total>1&&s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination"},u.current_page>1&&s.a.createElement("li",{key:"prev",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(u.current_page-1)},className:"page-link"},"Prev")),u.pages.map((function(a,t){return s.a.createElement("li",{key:t,className:"page-item ".concat("..."===a?"disabled":""," ").concat(a===u.current_page?"active":"")},s.a.createElement("button",{onClick:function(){return e.handleClickPage(a)},className:"page-link"},a))})),u.current_page<u.last_page&&s.a.createElement("li",{key:"next",className:"page-item"},s.a.createElement("button",{onClick:function(){return e.handleClickPage(u.current_page+1)},className:"page-link"},"Next"))))),s.a.createElement("div",{className:"col-md-6 mt-2 text-right"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tampilkan data perhalaman"),s.a.createElement("select",{value:l,className:"form-control",onChange:this.handleChangeSelect("perpage")},s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"20"},"20")))))))}}]),a}(r.Component),Aa=Object(k.b)((function(e){return{fetching:e.unit.fetching,error:e.unit.error,data:e.unit.data,type:e.unit.type,success:e.unit.success,message:e.unit.message,unit:e.unit.unit}}),(function(e){return{fetchUnit:function(a){return e(function(e){return function(a,t){var r=e.page,s=e.perpage,c=e.keyword,l=e.ordering,o=e.filter;a({type:"FETCH_UNIT_PENDING"}),_.a.get("".concat(n,"/unit"),{params:{page:r,perpage:s,keyword:c,ordering:l,filter:o},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"FETCH_UNIT_SUCCESS",data:e.data.data,selected:e.data.selected})})).catch((function(e){e.response?a({type:"FETCH_UNIT_FAILED",error:e.response}):a({type:"FETCH_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},toggleUnit:function(a){return e(function(e){return function(a,t){a({type:"TOGGLE_UNIT_PENDING"}),_.a.delete("".concat(n,"/unit/toggle/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"TOGGLE_UNIT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"TOGGLE_UNIT_FAILED",error:e.response,message:e.response.data.message}):a({type:"TOGGLE_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},deleteUnit:function(a){return e(function(e){return function(a,t){a({type:"DELETE_UNIT_PENDING"}),_.a.delete("".concat(n,"/unit/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"DELETE_UNIT_SUCCESS",message:e.data.message,success:!0})})).catch((function(e){e.response?a({type:"DELETE_UNIT_FAILED",error:e.response,message:e.response.data.message}):a({type:"DELETE_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},saveUnit:function(a){return e(function(e){return function(a,t){var r=e.name;a({type:"SAVE_UNIT_PENDING"}),_.a.post("".concat(n,"/unit"),{name:r},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"SAVE_UNIT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?a({type:"SAVE_UNIT_FAILED",error:e.response,message:e.response.data.message}):a({type:"SAVE_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},getUnit:function(a){return e(function(e){return function(a,t){a({type:"GET_UNIT_PENDING"}),_.a.get("".concat(n,"/unit/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_UNIT_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_UNIT_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))},updateUnit:function(a,t){return e(function(e,a){return function(t,r){var s=a.name;t({type:"UPDATE_UNIT_PENDING"}),_.a.post("".concat(n,"/unit/").concat(e),{name:s},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_UNIT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_UNIT_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_UNIT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))}}}))(Object(T.withToastManager)(wa)),Ia=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",permissions:{}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleSubmit=function(e){e.preventDefault(),t.props.updateRole(t.props.match.params.id,t.state)},t.handleClickCheckbox=function(e){var a=t.state.permissions;t.setState(Object(E.a)({},t.state,{permissions:Object(E.a)({},a,Object(h.a)({},e.target.value,e.target.checked))}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/role");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.role!==e.role){var n=t.props.role;t.setState(Object(E.a)({},t.state,{name:n.name,permissions:n.perms}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t.componentDidMount=function(){t.props.getRole(t.props.match.params.id),t.props.getListPermssion()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.error,n=a.permissions,c=this.state,l=c.name,o=c.permissions,i=t&&t.data&&t.data.errors;return t&&422!==t.status?s.a.createElement(C,{title:t.statusText,message:t.data.message,code:t.status,connection:t.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-horizontal"},s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Ubah Peranan")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/role"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:l,onChange:this.handleChange("name"),type:"text",className:"form-control ".concat(i&&i.name?"is-invalid":""),placeholder:"Nama Peranan"}),i&&i.name&&s.a.createElement("div",{className:"invalid-feedback"},i.name[0]))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Izin"),s.a.createElement("div",{className:"row"},n&&n.map((function(a){return s.a.createElement("div",{className:"col-md-4",key:a._id},s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{checked:!!o[a.slug]&&o[a.slug],onChange:e.handleClickCheckbox,className:"form-check-input",type:"checkbox",value:a.slug,id:a.slug}),s.a.createElement("label",{className:"form-check-label",htmlFor:a.slug},a.name)))})))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{type:"reset",className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),Ua=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.role.message,fetching:e.role.fetching,error:e.role.error,success:e.role.success,type:e.role.type,role:e.role.role,permissions:e.permission.permissions})}),(function(e){return{updateRole:function(a,t){return e(function(e,a){return function(t,r){var s=a.name,c=a.permissions;t({type:"UPDATE_ROLE_PENDING"}),_.a.post("".concat(n,"/role/").concat(e),{name:s,permissions:c},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_ROLE_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_ROLE_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_ROLE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getRole:function(a){return e(ea(a))},getListPermssion:function(){return e(na())}}}))(Object(T.withToastManager)(Ia)),La=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getListPermission();case 2:return e.next=4,this.props.getRole(this.props.match.params.id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,a=e.role,t=e.permissions;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,a&&a.name)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/role"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h2",null,"Izin"),s.a.createElement("div",{className:"row"},t&&t.map((function(e){return s.a.createElement("div",{className:"col-md-4",key:e._id},s.a.createElement("span",null,e.name," ",a&&a.perms[e.slug]?s.a.createElement("span",{className:"text-success ml-2"},s.a.createElement("i",{className:"mdi mdi-check"})):s.a.createElement("span",{className:"text-danger ml-2"},s.a.createElement("i",{className:"mdi mdi-close"}))))}))))))}}]),a}(r.Component),Ma=Object(k.b)((function(e){return Object(E.a)({},e,{role:e.role.role,permissions:e.permission.permissions})}),(function(e){return{getRole:function(a){return e(ea(a))},getListPermission:function(){return e(na())}}}))(La),Ra=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={date_of_birth:null,name:"",email:"",phone_number:"",role_id:"",role_name:"",password:"",password_confirmation:"",photo:"",place_of_birth:"",address:""},t.handleChangeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.handleChangePhoto=function(e){return function(a){var n=a.target.files[0];t.setState(Object(E.a)({},t.state,Object(h.a)({},e,n)))}},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{date_of_birth:null,name:"",email:"",phone_number:"",role_id:"",role_name:"",password:"",password_confirmation:"",photo:"",place_of_birth:"",address:""})),t.photo.value=""},t.handleSave=function(){t.props.updateUser(t.props.match.params.id,t.state)},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/user");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.user!==e.user){var n=t.props.user;t.setState(Object(E.a)({},t.state,{date_of_birth:q()(n.date_of_birth).toDate(),name:n.name,email:n.email,phone_number:n.phone_number,role_id:n.role_id,role_name:n.role_name,photo:n.photo,place_of_birth:n.place_of_birth,address:n.address}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.match.params.id)}},{key:"render",value:function(){var e=this,a=this.state,t=a.date_of_birth,n=a.name,c=a.email,l=a.phone_number,o=a.role_id,i=a.role_name,m=a.password,d=a.password_confirmation,u=a.place_of_birth,g=a.address,h=this.props,E=h.fetching,b=h.error,f=b&&b.data&&b.data.errors;return b&&422!==b.status?s.a.createElement(C,{title:b.statusText,message:b.data.message,code:b.status,connection:b.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Ubah Pengguna")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/user"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:n,onChange:this.handleChange("name"),type:"text",className:"form-control ".concat(f&&f.name&&"is-invalid"),placeholder:"Nama Pengguna"}),f&&f.name&&s.a.createElement("div",{className:"invalid-feedback"},f.name[0])),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("email"),type:"email",className:"form-control ".concat(f&&f.email&&"is-invalid"),placeholder:"Email Pengguna"}),f&&f.email&&s.a.createElement("div",{className:"invalid-feedback"},f.email[0]))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:l,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Peranan ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(B.a,{placeholder:"Pilih Peranan",value:o&&{label:i,value:o},onChange:this.handleChangeSelect("role"),loadOptions:Fa,cacheOptions:!0,defaultOptions:!0,className:"".concat(f&&f.role_id&&"is-invalid-select")}),f&&f.role_id&&s.a.createElement("small",{className:"text-danger"},f.role_id[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("label",{className:"control-label"},"Kata Sandi"),s.a.createElement("input",{value:m,onChange:this.handleChange("password"),type:"password",className:"form-control ".concat(f&&f.password&&"is-invalid"),placeholder:"Kata Sandi"}),f&&f.password&&s.a.createElement("div",{className:"invalid-feedback"},f.password[0])),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("label",{className:"control-label"},"Ulangi Kata Sandi"),s.a.createElement("input",{value:d,onChange:this.handleChange("password_confirmation"),type:"password",className:"form-control",placeholder:"Ulangi Kata Sandi"})),s.a.createElement("div",{className:"help-block ml-2"},s.a.createElement("small",{className:"text-muted"},s.a.createElement("em",null,"*) Biarkan kosong jika tidak ingin mengubah kata sandi")))))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Photo"),s.a.createElement("input",{ref:function(a){return e.photo=a},onChange:this.handleChangePhoto("photo"),type:"file",className:"form-control"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tempat Lahir"),s.a.createElement("input",{value:u,onChange:this.handleChange("place_of_birth"),type:"text",className:"form-control",placeholder:"Jakarta"}))),s.a.createElement("div",{className:"col-md-7"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tanggal Lahir"),s.a.createElement(Ee.a,{placeholderText:"mm/dd/yyyy",selected:t,className:"form-control",onChange:function(a){return e.handleChangeDate("date_of_birth",a)}})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:g,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),E?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan Perubahan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),Ga=function(e){return Object(R.a)(e)},Fa=function(e,a){_.a.get("".concat(n,"/role/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Ga(a)}(e.data.data))}))},Ka=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.user.message,fetching:e.user.fetching,error:e.user.error,success:e.user.success,type:e.user.type,user:e.user.user})}),(function(e){return{updateUser:function(a,t){return e(function(e,a){return function(t,r){var s=a.date_of_birth,c=a.name,l=a.email,o=a.phone_number,i=a.role_id,m=a.role_name,d=a.password,u=a.password_confirmation,p=a.photo,g=a.place_of_birth,h=a.address;t({type:"UPDATE_USER_PENDING"});var E=new FormData;E.append("photo",p),E.set("date_of_birth",s?q()(s).format("YYYY-MM-DD"):""),E.set("name",c),E.set("email",l),E.set("phone_number",o),E.set("role_id",i),E.set("role_name",m),E.set("password",d),E.set("password_confirmation",u),E.set("photo",p),E.set("place_of_birth",g),E.set("address",h),_.a.post("".concat(n,"/user/").concat(e),E,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){t({type:"UPDATE_USER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_USER_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_USER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getUser:function(a){return e(Re(a))}}}))(Object(T.withToastManager)(Ra)),Ha=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getUser(this.props.match.params.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,e&&e.name)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/user"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2"},s.a.createElement("img",{src:e&&e.avatar?e.avatar:t(94),alt:e&&e.name,className:"rounded-circle mt-4",style:{height:150,width:150,objectFit:"cover"}})),s.a.createElement("div",{className:"col-md-10"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama:"),s.a.createElement("td",{colSpan:"3"},e&&e.name)),s.a.createElement("tr",null,s.a.createElement("th",null,"Email:"),s.a.createElement("td",null,e&&e.email),s.a.createElement("th",null,"Nomor Telfon:"),s.a.createElement("td",null,e&&e.phone_number)),s.a.createElement("tr",null,s.a.createElement("th",null,"Peranan:"),s.a.createElement("td",null,e&&e.role&&e.role.name),s.a.createElement("th",null,"Tempat tanggal lahir:"),s.a.createElement("td",null,e&&e.place_of_birth,", ",e&&e.date_of_birth_formatted)),s.a.createElement("tr",null,s.a.createElement("th",null,"Alamat:"),s.a.createElement("td",{colSpan:"3"},e&&e.address)))))))))}}]),a}(r.Component),Ya=Object(k.b)((function(e){return Object(E.a)({},e,{user:e.user.user})}),(function(e){return{getUser:function(a){return e(Re(a))}}}))(Ha),Ba=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",phone_number:"",type_label:"",type_value:"",address:""},t.handleSave=function(){t.props.updateCustomer(t.props.match.params.id,t.state)},t.handleReset=function(){t.setState({name:"",email:"",phone_number:"",type_label:"",type_value:"",address:""})},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_label"),a.label),Object(h.a)(n,"".concat(e,"_value"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_label"),null),Object(h.a)(r,"".concat(e,"_value"),null),r)))}},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/customer");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.customer!==e.customer){var n=t.props.customer;t.setState(Object(E.a)({},t.state,{name:n.name,email:n.email,phone_number:n.phone_number,type_label:n.type_name,type_value:n.type,address:n.address}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCustomer(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,a=e.error,t=e.fetching,n=this.state,c=n.name,l=n.email,o=n.phone_number,i=n.type_label,m=n.type_value,d=n.address,u=a&&a.data&&a.data.errors;return a&&422!==a.status?s.a.createElement(C,{title:a.statusText,message:a.data.message,code:a.status,connection:a.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Ubah Pelanggan")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/customer"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("name"),type:"text",className:"form-control  ".concat(u&&u.name&&"is-invalid"),placeholder:"Nama Pelanggan"}),u&&u.name&&s.a.createElement("div",{className:"invalid-feedback"},u.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email"),s.a.createElement("input",{value:l,onChange:this.handleChange("email"),type:"email",className:"form-control  ".concat(u&&u.email&&"is-invalid"),placeholder:"Email Pelanggan"}),u&&u.email&&s.a.createElement("div",{className:"invalid-feedback"},u.email[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:o,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"}))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe"),s.a.createElement(Ve.a,{value:i&&{label:i,value:m},onChange:this.handleChangeSelect("type"),placeholder:"Pilih tipe",options:[{label:"Pengecer",value:"retailer"},{label:"Grosir",value:"wholesaler"}]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:d,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),t?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan Perubahan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),za=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.customer.message,fetching:e.customer.fetching,error:e.customer.error,success:e.customer.success,type:e.customer.type,customer:e.customer.customer})}),(function(e){return{updateCustomer:function(a,t){return e(function(e,a){return function(t,r){var s=a.name,c=a.email,l=a.phone_number,o=a.type_label,i=a.type_value,m=a.address;t({type:"UPDATE_CUSTOMER_PENDING"}),_.a.post("".concat(n,"/customer/").concat(e),{name:s,email:c,phone_number:l,type_label:o,type_value:i,address:m},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_CUSTOMER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_CUSTOMER_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getCustomer:function(a){return e(function(e){return function(a,t){a({type:"GET_CUSTOMER_PENDING"}),_.a.get("".concat(n,"/customer/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_CUSTOMER_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_CUSTOMER_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_CUSTOMER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Ba)),qa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",phone_number:"",address:""},t.handleSave=function(){t.props.updateSupplier(t.props.match.params.id,t.state)},t.handleReset=function(){t.setState({name:"",email:"",phone_number:"",address:""})},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/supplier");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.supplier!==e.supplier){var n=t.props.supplier;t.setState(Object(E.a)({},t.state,{name:n.name,email:n.email,phone_number:n.phone_number,address:n.address}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getSupplier(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,a=e.error,t=e.fetching,n=this.state,c=n.name,l=n.email,o=n.phone_number,i=n.address,m=a&&a.data&&a.data.errors;return a&&422!==a.status?s.a.createElement(C,{title:a.statusText,message:a.data.message,code:a.status,connection:a.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Ubah Pemasok")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/supplier"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:c,onChange:this.handleChange("name"),type:"text",className:"form-control  ".concat(m&&m.name&&"is-invalid"),placeholder:"Nama Pemasok"}),m&&m.name&&s.a.createElement("div",{className:"invalid-feedback"},m.name[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Email"),s.a.createElement("input",{value:l,onChange:this.handleChange("email"),type:"email",className:"form-control  ".concat(m&&m.email&&"is-invalid"),placeholder:"Email Pemasok"}),m&&m.email&&s.a.createElement("div",{className:"invalid-feedback"},m.email[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Telefon"),s.a.createElement("input",{value:o,onChange:this.handleChange("phone_number"),type:"text",className:"form-control",placeholder:"Nomor Telefon"}))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Alamat"),s.a.createElement("textarea",{value:i,onChange:this.handleChange("address"),rows:"5",className:"form-control",placeholder:"Nama Jalan RT/RW Desa Kecamatan, Kabupaten, Kode Pos"})))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),t?s.a.createElement("button",{className:"btn btn-primary btn-disabled mr-2",disabled:!0},s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}),"Simpan Perubahan"):s.a.createElement("button",{className:"btn btn-primary mr-2",onClick:this.handleSave},s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset")))}}]),a}(r.Component),Va=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.supplier.message,fetching:e.supplier.fetching,error:e.supplier.error,success:e.supplier.success,type:e.supplier.type,supplier:e.supplier.supplier})}),(function(e){return{updateSupplier:function(a,t){return e(function(e,a){return function(t,r){var s=a.name,c=a.email,l=a.phone_number,o=a.address;t({type:"UPDATE_SUPPLIER_PENDING"}),_.a.post("".concat(n,"/supplier/").concat(e),{name:s,email:c,phone_number:l,address:o},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_SUPPLIER_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_SUPPLIER_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getSupplier:function(a){return e(function(e){return function(a,t){a({type:"GET_SUPPLIER_PENDING"}),_.a.get("".concat(n,"/supplier/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_SUPPLIER_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_SUPPLIER_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_SUPPLIER_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(qa)),Xa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={valid_thru:void 0,amount:"",type:"fix",term:">",total_qty:"",quota:"",customer_id:"",customer_name:"",product_name:"",product_id:""},t.handleChange=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChangeSelect=function(e,a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))},t.handleUpdate=function(){t.props.updateDiscount(t.props.match.params.id,t.state)},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{valid_thru:null,amount:"",type:"fix",term:"",total_qty:"",quota:"",customer_type:""}))},t.componentDidUpdate=function(e){var a=t.props.toastManager;if(e.type!==t.props.type||e.success!==t.props.success){if("update"===t.props.type){if(t.props.success)return a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/discount");a.add(t.props.message,{appearance:"error",autoDismiss:!0})}if("get"===t.props.type)if(t.props.success){if(t.props.discount!==e.discount){var n=t.props.discount;t.setState(Object(E.a)({},t.state,{valid_thru:q()(n.valid_thru).toDate(),amount:n.amount,type:n.type,term:n.term,total_qty:n.total_qty,quota:n.quota,customer_id:n.customer_type,customer_name:n.customer_type_name,product_name:n.product_name,product_id:n.product_id}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getDiscount(this.props.match.params.id)}},{key:"render",value:function(){var e=this,a=this.state,t=a.valid_thru,n=a.amount,c=a.type,l=a.term,o=a.total_qty,i=a.quota,m=a.customer_id,d=a.customer_name,u=a.product_name,g=a.product_id,h=this.props,E=h.fetching,b=h.error,f=b&&b.data&&b.data.errors;return b&&422!==b.status?s.a.createElement(C,{title:b.statusText,message:b.data.message,code:b.status,connection:b.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Ubah Promo")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/discount"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Barang ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(B.a,{isDisabled:!0,value:g?{value:g,label:u}:null,onChange:function(a){return e.handleChangeSelect("product",a)},loadOptions:Qa,cacheOptions:!0,defaultOptions:!0,isClearable:!0,placeholder:"Pilih Barang",className:"".concat(f&&f.product_id?"is-invalid-select":"")}),f&&f.product_id&&s.a.createElement("small",{className:"text-danger"},f.product_id[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe Pelanggan"),s.a.createElement(Ve.a,{onChange:function(a){return e.handleChangeSelect("customer",a)},value:m?{value:m,label:d}:null,options:[{label:"Pengecer",value:"retailer"},{label:"Grosir",value:"wholesaler"}],isClearable:!0,placeholder:"Pilih Tipe Pelanggan"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Berlaku sampai ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Ee.a,{onChange:function(a){return e.handleChange("valid_thru",a)},style:{display:"block"},placeholderText:"dd/mm/yyyy",className:"form-control ".concat(f&&f.valid_thru?"is-invalid":""),selected:t}),f&&f.valid_thru&&s.a.createElement("div",{style:{display:"flex"},className:"invalid-feedback"},f.valid_thru[0]))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Kuota"),s.a.createElement(K.a,{value:i,onValueChange:function(a){return e.handleChange("quota",a.floatValue?a.floatValue:"")},className:"form-control text-right",placeholder:"Kuota"}))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"help-block text-muted"},"*) Mengkosongkan kuota berarti promo tidak terbatas")))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Jumlah ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(K.a,{value:n,onValueChange:function(a){return e.handleChange("amount",a.floatValue)},className:"form-control text-right ".concat(f&&f.amount?"is-invalid":""),placeholder:"Jumlah"}),f&&f.amount&&s.a.createElement("div",{className:"invalid-feedback"},f.amount[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tipe ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("select",{value:c,onChange:function(a){return e.handleChange("type",a.target.value)},className:"form-control ".concat(f&&f.type?"is-invalid":"")},s.a.createElement("option",{value:"fix"},"Tetap"),s.a.createElement("option",{value:"percentage"},"Persentase")),f&&f.type&&s.a.createElement("div",{className:"invalid-feedback"},f.type[0])),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ketentuan",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("select",{value:l,onChange:function(a){return e.handleChange("term",a.target.value)},className:"form-control ".concat(f&&f.term?"is-invalid":"")},s.a.createElement("option",{value:">"},"Lebih dari"),s.a.createElement("option",{value:"="},"Sama dengan")),f&&f.term&&s.a.createElement("div",{className:"invalid-feedback"},f.term[0]))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Total Produk",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(K.a,{type:"text",value:o,onValueChange:function(a){return e.handleChange("total_qty",a.floatValue)},className:"form-control text-right ".concat(f&&f.total_qty?"is-invalid":""),placeholder:"Total Produk"}),f&&f.total_qty&&s.a.createElement("div",{className:"invalid-feedback"},f.total_qty[0]))))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{className:"btn btn-primary mr-2 ".concat(E?"btn-disabled":""),disabled:E,onClick:this.handleUpdate},E?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"})," Simpan Perubahan"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.handleReset},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),Ja=function(e){return Object(R.a)(e)},Qa=function(e,a){_.a.get("".concat(n,"/product/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return Ja(a)}(e.data.data))}))},Wa=Object(k.b)((function(e){return Object(E.a)({},e,{message:e.discount.message,fetching:e.discount.fetching,error:e.discount.error,success:e.discount.success,type:e.discount.type,discount:e.discount.discount})}),(function(e){return{updateDiscount:function(a,t){return e(function(e,a){return function(t,r){var s=a.valid_thru,c=a.amount,l=a.type,o=a.term,i=a.total_qty,m=a.quota,d=a.customer_id,u=a.customer_name,p=a.product_name,g=a.product_id;t({type:"UPDATE_DISCOUNT_PENDING"}),_.a.post("".concat(n,"/discount/").concat(e),{valid_thru:s?q()(s).format("YYYY-MM-DD"):null,amount:c,type:l,term:o,total_qty:i,quota:m,customer_type:d,customer_type_name:u,product_name:p,product_id:g},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){t({type:"UPDATE_DISCOUNT_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getDiscount:function(a){return e(function(e){return function(a,t){a({type:"GET_DISCOUNT_PENDING"}),_.a.get("".concat(n,"/discount/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_DISCOUNT_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_DISCOUNT_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_DISCOUNT_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(Xa)),Za=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getSales(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.sales;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,e&&e.number)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/sales"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("table",{className:"table table-borderless"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Pelanggan"),s.a.createElement("td",null,e&&e.customer?e.customer.name:"-"),s.a.createElement("th",{style:{width:200}},"Kasir"),s.a.createElement("td",null,e&&e.user?e.user.name:"-")),s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Metode Pembayaran"),s.a.createElement("td",null,e&&"cash"===e.payment_type?"Tunai":"Kartu"),s.a.createElement("th",{style:{width:200}},"Status"),s.a.createElement("td",null,e&&"done"===e.status?s.a.createElement("span",{className:"badge badge-success"},"Selesai"):s.a.createElement("span",{className:"badge badge-danger"},"Ditahan")))))),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("h2",{className:"text-secondary"},"Belanjaan"),s.a.createElement("table",{className:"table mt-4 mb-5"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Harga"),s.a.createElement("th",null,"Kuantitas"),s.a.createElement("th",null,"Diskon"),s.a.createElement("th",null,"Subtotal"))),s.a.createElement("tbody",null,e&&e.details?e.details.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.product_name),s.a.createElement("td",{className:"text-right"},e.price_formatted),s.a.createElement("td",{className:"text-center"},e.qty),s.a.createElement("td",{className:"text-right"},"-",e.discount_formatted),s.a.createElement("td",{className:"text-right"},e.subtotal_formatted))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5",className:"text-center"},"Tidak ada data"))),e&&e.details&&s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Subtotal"),s.a.createElement("td",{className:"text-right"},e&&e.subtotal_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Pajak"),s.a.createElement("td",{className:"text-right"},e&&e.tax_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Total Diskon"),s.a.createElement("td",{className:"text-right"},"-",e&&e.total_discount_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Total"),s.a.createElement("td",{className:"text-right"},e&&e.total_formatted)),e&&"cash"===e.payment_type&&s.a.createElement(r.Fragment,null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Pembayaran"),s.a.createElement("td",{className:"text-right"},e&&e.amount_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4",className:"text-right"},"Kembalian"),s.a.createElement("td",{className:"text-right"},e&&e.change_formatted))))))))))}}]),a}(r.Component),$a=Object(k.b)((function(e){return Object(E.a)({},e,{sales:e.sales.sales})}),(function(e){return{getSales:function(a){return e(V(a))}}}))(Object(T.withToastManager)(Za)),et=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getPurchase(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.purchase;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,e&&e.number)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/purchase"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("table",{className:"table table-borderless"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Pemasok"),s.a.createElement("td",null,e&&e.supplier?e.supplier.name:"-"),s.a.createElement("th",{style:{width:200}},"Penanggung Jawab"),s.a.createElement("td",null,e&&e.in_charge?e.in_charge.name:"-")),s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Tanggal Pembelian"),s.a.createElement("td",null,e&&e.payment_date_formatted),s.a.createElement("th",{style:{width:200}},"Di buat oleh"),s.a.createElement("td",null,e&&e.user?e.user.name:"-")),s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Bukti"),s.a.createElement("td",null,e&&e.evidence?s.a.createElement("a",{href:e.evidence_url},e.evidence," ",s.a.createElement("i",{className:"mdi mdi-download ml-2"})):"-"),s.a.createElement("th",{style:{width:200}},"Catatan"),s.a.createElement("td",null,e&&e.notes))))),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("h2",{className:"text-secondary"},"Pembelian"),s.a.createElement("table",{className:"table mt-4 mb-5"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Harga Beli"),s.a.createElement("th",null,"Harga Jual"),s.a.createElement("th",null,"Harga Grosir"),s.a.createElement("th",null,"Kuantitas"),s.a.createElement("th",null,"Subtotal"))),s.a.createElement("tbody",null,e&&e.details?e.details.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e.product_name),s.a.createElement("td",{className:"text-right"},e.cost_formatted),s.a.createElement("td",{className:"text-right"},e.price_formatted),s.a.createElement("td",{className:"text-right"},e.wholesale_formatted),s.a.createElement("td",{className:"text-center"},e.qty),s.a.createElement("td",{className:"text-right"},e.subtotal_formatted))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"6",className:"text-center"},"Tidak ada data"))),e&&e.details&&s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"5",className:"text-right"},"Subtotal"),s.a.createElement("td",{className:"text-right"},e&&e.subtotal_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"5",className:"text-right"},"Pajak"),s.a.createElement("td",{className:"text-right"},e&&e.tax_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"5",className:"text-right"},"Total Diskon"),s.a.createElement("td",{className:"text-right"},"-",e&&e.total_discount_formatted)),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"5",className:"text-right"},"Total"),s.a.createElement("td",{className:"text-right"},e&&e.total_formatted)))))))))}}]),a}(r.Component),at=Object(k.b)((function(e){return Object(E.a)({},e,{purchase:e.purchase.purchase})}),(function(e){return{getPurchase:function(a){return e(function(e){return function(a,t){a({type:"GET_PURCHASE_PENDING"}),_.a.get("".concat(n,"/purchase/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a({type:"GET_PURCHASE_SUCCESS",data:e.data.data,success:!0})})).catch((function(e){e.response?a({type:"GET_PURCHASE_FAILED",error:e.response,message:e.response.data.message}):a({type:"GET_PURCHASE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a))}}}))(Object(T.withToastManager)(et)),tt=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getExpense(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.expense;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,e&&e.number)),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/expense"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("table",{className:"table table-borderless"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Nama Toko / Pemasok"),s.a.createElement("td",null,e&&e.supplier_name),s.a.createElement("th",{style:{width:200}},"Penanggung Jawab"),s.a.createElement("td",null,e&&e.in_charge?e.in_charge.name:"-")),s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Tanggal Pembelian"),s.a.createElement("td",null,e&&e.payment_date_formatted),s.a.createElement("th",{style:{width:200}},"Di buat oleh"),s.a.createElement("td",null,e&&e.user?e.user.name:"-")),s.a.createElement("tr",null,s.a.createElement("th",{style:{width:200}},"Bukti"),s.a.createElement("td",null,e&&e.evidence?s.a.createElement("a",{href:e.evidence_url},e.evidence," ",s.a.createElement("i",{className:"mdi mdi-download ml-2"})):"-"),s.a.createElement("th",{style:{width:200}},"Catatan"),s.a.createElement("td",null,e&&e.notes))))),s.a.createElement("div",{className:"col-md-12 mt-4"},s.a.createElement("h2",{className:"text-secondary"},"Pembelian"),s.a.createElement("table",{className:"table mt-4 mb-5"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Harga Beli"),s.a.createElement("th",null,"Qty"),s.a.createElement("th",null,"Total"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,e&&e.product_name),s.a.createElement("td",null,e&&e.price_formatted),s.a.createElement("td",null,e&&e.qty),s.a.createElement("td",null,e&&e.total_formatted)))))))))}}]),a}(r.Component),nt=Object(k.b)((function(e){return Object(E.a)({},e,{expense:e.expense.expense})}),(function(e){return{getExpense:function(a){return e(De(a))}}}))(Object(T.withToastManager)(tt)),rt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={payment_date:new Date,number:"",supplier_name:"",product_name:"",price:"",qty:"",in_charge_id:"",in_charge_name:"",notes:"",user:""},t.changeDate=function(e,a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a)))},t.handleChangeNumber=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.floatValue)))}},t.handleChangeSelect=function(e){return function(a){var n,r;null!==a?t.setState(Object(E.a)({},t.state,(n={},Object(h.a)(n,"".concat(e,"_name"),a.label),Object(h.a)(n,"".concat(e,"_id"),a.value),n))):t.setState(Object(E.a)({},t.state,(r={},Object(h.a)(r,"".concat(e,"_name"),null),Object(h.a)(r,"".concat(e,"_id"),null),r)))}},t.handleReset=function(){t.setState(Object(E.a)({},t.state,{payment_date:new Date,number:"",supplier_name:"",product_name:"",price:"",qty:"",in_charge_id:"",in_charge_name:"",notes:"",user:""})),t.evidence.value=""},t.handleChangeFile=function(e){return function(a){var n=a.target.files[0];t.setState(Object(E.a)({},t.state,Object(h.a)({},e,n)))}},t.handleChange=function(e){return function(a){t.setState(Object(E.a)({},t.state,Object(h.a)({},e,a.target.value)))}},t.handleUpdate=function(){t.props.updateExpense(t.props.match.params.id,t.state)},t.componentDidUpdate=function(e){var a=t.props.toastManager;if((e.type!==t.props.type||e.success!==t.props.success)&&("update"===t.props.type&&(t.props.success?(a.add(t.props.message,{appearance:"success",autoDismiss:!0}),t.props.history.push("/expense")):a.add(t.props.message,{appearance:"error",autoDismiss:!0})),"get"===t.props.type))if(t.props.success){if(t.props.expense!==e.expense){var n=t.props.expense;t.setState(Object(E.a)({},t.state,{payment_date:q()(n.payment_date).toDate(),number:n.number,supplier_name:n.supplier_name,product_name:n.product_name,price:n.price,qty:n.qty,in_charge_id:n.in_charge_id,in_charge_name:n.in_charge_name,notes:n.notes,user:n.user}))}}else a.add(t.props.message,{appearance:"error",autoDismiss:!0})},t.componentWillMount=function(){t.props.getExpense(t.props.match.params.id)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.payment_date,n=a.number,c=a.supplier_name,l=a.product_name,o=a.price,i=a.qty,m=a.in_charge_id,d=a.in_charge_name,u=a.notes,g=this.props,h=g.fetching,E=g.error,b=E&&E.data&&E.data.errors;return E&&422!==E.status?s.a.createElement(C,{title:E.statusText,message:E.data.message,code:E.status,connection:E.connection}):s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"row p-3"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null,"Tambah Pembelian Barang")),s.a.createElement("div",{className:"col-md-4 text-right"},s.a.createElement(p.b,{className:"btn btn-secondary",to:"/expense"},s.a.createElement("i",{className:"mdi mdi-arrow-left mr-2"}),"Kembali"))),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nomor Referensi ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:n,onChange:this.handleChange("number"),type:"text",className:"form-control ".concat(b&&b.number?"is-invalid":""),placeholder:"Nomor Referensi"}),b&&b.number&&s.a.createElement("div",{className:"invalid-feedback"},b.number[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Tanggal Pembelian ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Ee.a,{style:{display:"block"},className:"form-control ".concat(b&&b.payment_date?"is-invalid":""),selected:t,onChange:function(a){return e.changeDate("payment_date",a)}}),b&&b.payment_date&&s.a.createElement("div",{style:{display:"flex"},className:"invalid-feedback"},b.payment_date[0])),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama Toko / Pemasok"),s.a.createElement("input",{value:c,onChange:this.handleChange("supplier_name"),type:"text",className:"form-control",placeholder:"Nama Toko / Pemasok"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Bukti"),s.a.createElement("input",{accept:".jpg, .png, .pdf",ref:function(a){return e.evidence=a},onChange:this.handleChangeFile("evidence"),type:"file",className:"form-control"}),s.a.createElement("span",{className:"help-block text-muted"},"*) Format .jpg, .png, .pdf"))),s.a.createElement("div",{className:"col-md-6 mt-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Nama Barang ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{value:l,onChange:this.handleChange("product_name"),type:"text",className:"form-control",placeholder:"Nama Barang"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Harga ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(Y,{value:o,handleChangeNumber:this.handleChangeNumber("price")}))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Qty ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"number",placeholder:"0",className:"form-control text-right",value:i,min:"1",onChange:this.handleChange("qty")})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Penanggung Jawab"),s.a.createElement(B.a,{onChange:this.handleChangeSelect("in_charge"),value:m&&{label:d,value:m},isClearable:!0,placeholder:"Pilih Penanggung Jawab",cacheOptions:!0,defaultOptions:!0,loadOptions:ct})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Catatan"),s.a.createElement("textarea",{onChange:this.handleChange("notes"),value:u,rows:"5",className:"form-control",placeholder:"Catatan"}))),s.a.createElement("div",{className:"col-md-12 mt-2 text-right mb-5"},s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.handleUpdate,className:"btn btn-primary mr-2 ".concat(h?"btn-disabled":""),disabled:h}," ",h?s.a.createElement("i",{className:"mdi mdi-loading mdi-spin mr-2"}):s.a.createElement("i",{className:"mdi mdi-content-save mr-2"}),"Simpan Perubahan"),s.a.createElement("button",{onClick:this.handleReset,className:"btn btn-secondary"},s.a.createElement("i",{className:"mdi mdi-reload mr-2"}),"Reset"))))}}]),a}(r.Component),st=function(e){return Object(R.a)(e)},ct=function(e,a){_.a.get("".concat(n,"/user/list"),{params:{keyword:e},headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){a(function(e){var a=e.map((function(e){return{label:e.name,value:e._id}}));return st(a)}(e.data.data))}))},lt=Object(k.b)((function(e){return Object(E.a)({},e,{fetching:e.expense.fetching,fetched:e.expense.fetched,message:e.expense.message,success:e.expense.success,type:e.expense.type,error:e.expense.error,expense:e.expense.expense})}),(function(e){return{updateExpense:function(a,t){return e(function(e,a){return function(t,r){var s=a.number,c=a.payment_date,l=a.product_name,o=a.price,i=a.qty,m=a.supplier_name,d=a.in_charge_id,u=a.in_charge_name,p=a.notes,g=a.evidence;t({type:"UPDATE_EXPENSE_PENDING"});var h=new FormData;h.append("evidence",g),h.set("payment_date",q()(c).format("YYYY-MM-DD")),h.set("number",s),h.set("product_name",l),h.set("price",o),h.set("qty",i),h.set("supplier_name",m),h.set("in_charge_id",d),h.set("in_charge_name",u),h.set("notes",p),_.a.post("".concat(n,"/expense/").concat(e),h,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){t({type:"UPDATE_EXPENSE_SUCCESS",data:e.data.data,message:e.data.message})})).catch((function(e){e.response?t({type:"UPDATE_EXPENSE_FAILED",error:e.response,message:e.response.data.message}):t({type:"UPDATE_EXPENSE_FAILED",error:{status:null,connection:!0,statusText:"Koneksi Terputus",data:{message:"Silahkan periksa koneksi backend, lihat tutorial di sini https://github.com/kasirkita/Kasir-Kita"}}})}))}}(a,t))},getExpense:function(a){return e(De(a))}}}))(Object(T.withToastManager)(rt)),ot=[{path:"/",exact:!0,layout:w,component:function(){return s.a.createElement(g.a,{to:"/dashboard"})}},{path:"/login",exact:!0,layout:w,component:x},{path:"/dashboard",exact:!0,layout:I,component:M},{path:"/cashier",exact:!0,layout:I,component:W},{path:"/cashier/:id",exact:!0,layout:I,component:W},{path:"/product",exact:!0,layout:I,component:se},{path:"/product/create",exact:!0,layout:I,component:ue},{path:"/product/edit/:id",exact:!0,layout:I,component:ja},{path:"/product/view/:id",exact:!0,layout:I,component:Pa},{path:"/category",exact:!0,layout:I,component:ge},{path:"/unit",exact:!0,layout:I,component:Aa},{path:"/sales",exact:!0,layout:I,component:fe},{path:"/sales/view/:id",exact:!0,layout:I,component:$a},{path:"/purchase",exact:!0,layout:I,component:ve},{path:"/purchase/create",exact:!0,layout:I,component:Oe},{path:"/purchase/view/:id",exact:!0,layout:I,component:at},{path:"/expense",exact:!0,layout:I,component:je},{path:"/expense/create",exact:!0,layout:I,component:Ae},{path:"/expense/view/:id",exact:!0,layout:I,component:nt},{path:"/expense/edit/:id",exact:!0,layout:I,component:lt},{path:"/stock",exact:!0,layout:I,component:Me},{path:"/user",exact:!0,layout:I,component:Fe},{path:"/user/create",exact:!0,layout:I,component:Be},{path:"/user/edit/:id",exact:!0,layout:I,component:Ka},{path:"/user/view/:id",exact:!0,layout:I,component:Ya},{path:"/customer",exact:!0,layout:I,component:qe},{path:"/customer/create",exact:!0,layout:I,component:Je},{path:"/customer/edit/:id",exact:!0,layout:I,component:za},{path:"/supplier",exact:!0,layout:I,component:We},{path:"/supplier/create",exact:!0,layout:I,component:$e},{path:"/supplier/edit/:id",exact:!0,layout:I,component:Va},{path:"/role",exact:!0,layout:I,component:ta},{path:"/role/create",exact:!0,layout:I,component:sa},{path:"/role/edit/:id",exact:!0,layout:I,component:Ua},{path:"/role/view/:id",exact:!0,layout:I,component:Ma},{path:"/report-sales",exact:!0,layout:I,component:la},{path:"/report-purchase",exact:!0,layout:I,component:ia},{path:"/report-expense",exact:!0,layout:I,component:da},{path:"/report-stock",exact:!0,layout:I,component:pa},{path:"/settings",exact:!0,layout:I,component:ha},{path:"/discount",exact:!0,layout:I,component:ba},{path:"/discount/create",exact:!0,layout:I,component:_a},{path:"/discount/edit/:id",exact:!0,layout:I,component:Wa},{path:"/welcome",exact:!0,layout:w,component:ka}],it=(t(338),function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"d-flex justify-content-center align-content-center mt-5"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h1",{className:"text-muted"},"404 - Halaman tidak di temukan"),s.a.createElement("p",null,"Halaman yang anda cari hilang, atau tidak ditemukan"),s.a.createElement(p.b,{className:"btn btn-primary",to:"/"},s.a.createElement("i",{className:"mdi mdi-home mr-2"})," Kembali ke rumah")))}}]),a}(r.Component)),mt=t(157);var dt=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"d-flex align-items-center text-center align-self-center"},s.a.createElement("div",{className:"col-12 mt-5",style:{height:"100vh"}},s.a.createElement("p",{className:"text-secondary"},"Mohon maaf, aplikasi nya hanya bisa dilihat di desktop saja"),s.a.createElement("h1",{className:"mt-3"},":'(")))))},ut=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return mt.isMobile?s.a.createElement(dt,null):s.a.createElement(p.a,null,s.a.createElement(g.d,null,ot.map((function(e,a){return s.a.createElement(g.b,{key:a,path:e.path,exact:e.exact,component:function(a){return s.a.createElement(e.layout,a,s.a.createElement(e.component,a))}})})),s.a.createElement(g.b,{component:it})))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=t(52),gt=t(158),ht={fetching:!1,fetched:!1,userExists:null,error:null},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHECK_USER_PENDING":return Object(E.a)({},e,{fetching:!0});case"CHECK_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,userExists:a.userExists});case"CHECK_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error});default:return e}},bt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTER_PENDING":return Object(E.a)({},e,{fetching:!0});case"REGISTER_SUCCESS":return sessionStorage.setItem("token",a.token),sessionStorage.setItem("name",a.data.name),sessionStorage.setItem("avatar",a.data.avatar),sessionStorage.setItem("email",a.data.email),Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,message:a.message,success:!0});case"REGISTER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1});default:return e}},Nt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,redirect:"/"},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_PENDING":return Object(E.a)({},e,{fetching:!0,fetched:!1});case"LOGIN_SUCCESS":return sessionStorage.setItem("token",a.token),sessionStorage.setItem("name",a.data.name),sessionStorage.setItem("avatar",a.data.avatar),sessionStorage.setItem("email",a.data.email),sessionStorage.setItem("permissions",JSON.stringify(a.permissions)),Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,message:a.message,success:!0,error:null,redirect:"/".concat(a.redirect.type)});case"LOGIN_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1});default:return e}},_t={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,product:null,selected:null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_PRODUCT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_PRODUCT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,selected:a.selected,type:"fetch"});case"FETCH_PRODUCT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_PRODUCT_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_PRODUCT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_PRODUCT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_PRODUCT_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_PRODUCT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",product:a.data,success:!0});case"GET_PRODUCT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_PRODUCT_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_PRODUCT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_PRODUCT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_PRODUCT_PENDING":case"TOGGLE_PRODUCT_SUCCESS":return Object(E.a)({},e);case"TOGGLE_PRODUCT_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"SELECT_PRODUCT_PENDING":return Object(E.a)({},e);case"SELECT_PRODUCT_SUCCESS":return Object(E.a)({},e,{selected:a.selected});case"SELECT_PRODUCT_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_PRODUCT_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_PRODUCT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_PRODUCT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});case"IMPORT_PRODUCT_PENDING":return Object(E.a)({},e,{uploading:!0});case"IMPORT_PRODUCT_SUCCESS":return Object(E.a)({},e,{uploading:!1,type:"import",message:a.message,success:!0});case"IMPORT_PRODUCT_FAILED":return Object(E.a)({},e,{uploading:!1,error:a.error,message:a.message,type:"import",success:!1});default:return e}},kt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,category:null},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_CATEGORY_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_CATEGORY_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_CATEGORY_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_CATEGORY_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_CATEGORY_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_CATEGORY_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_CATEGORY_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_CATEGORY_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",category:a.data,success:!0});case"GET_CATEGORY_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_CATEGORY_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_CATEGORY_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_CATEGORY_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_CATEGORY_PENDING":case"TOGGLE_CATEGORY_SUCCESS":return Object(E.a)({},e);case"TOGGLE_CATEGORY_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_CATEGORY_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_CATEGORY_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_CATEGORY_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Ct={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,unit:null},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_UNIT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_UNIT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_UNIT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_UNIT_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_UNIT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_UNIT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_UNIT_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_UNIT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",unit:a.data,success:!0});case"GET_UNIT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_UNIT_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_UNIT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_UNIT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_UNIT_PENDING":case"TOGGLE_UNIT_SUCCESS":return Object(E.a)({},e);case"TOGGLE_UNIT_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_UNIT_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_UNIT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_UNIT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Dt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,role:null},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_ROLE_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_ROLE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_ROLE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_ROLE_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_ROLE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_ROLE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_ROLE_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_ROLE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",role:a.data,success:!0});case"GET_ROLE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_ROLE_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_ROLE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_ROLE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_ROLE_PENDING":case"TOGGLE_ROLE_SUCCESS":return Object(E.a)({},e);case"TOGGLE_ROLE_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_ROLE_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_ROLE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_ROLE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},jt={permissions:[],fetching:!1,fetched:!1,error:null,type:null},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIST_PERMISSION_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"LIST_PERMISSION_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,permissions:a.data,success:!0,type:"list"});case"LIST_PERMISSION_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"list"});default:return e}},Pt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,user:null},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,selected:a.selected,type:"fetch"});case"FETCH_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_USER_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_USER_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",user:a.data,success:!0});case"GET_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_USER_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_USER_PENDING":case"TOGGLE_USER_SUCCESS":return Object(E.a)({},e);case"TOGGLE_USER_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_USER_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_USER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_USER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},At={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,customer:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_CUSTOMER_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_CUSTOMER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_CUSTOMER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_CUSTOMER_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_CUSTOMER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_CUSTOMER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_CUSTOMER_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_CUSTOMER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",customer:a.data,success:!0});case"GET_CUSTOMER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_CUSTOMER_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_CUSTOMER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_CUSTOMER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_CUSTOMER_PENDING":case"TOGGLE_CUSTOMER_SUCCESS":return Object(E.a)({},e);case"TOGGLE_CUSTOMER_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_CUSTOMER_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_CUSTOMER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_CUSTOMER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Ut={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,supplier:null},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SUPPLIER_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_SUPPLIER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_SUPPLIER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_SUPPLIER_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_SUPPLIER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_SUPPLIER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_SUPPLIER_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_SUPPLIER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",supplier:a.data,success:!0});case"GET_SUPPLIER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_SUPPLIER_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_SUPPLIER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_SUPPLIER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_SUPPLIER_PENDING":case"TOGGLE_SUPPLIER_SUCCESS":return Object(E.a)({},e);case"TOGGLE_SUPPLIER_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_SUPPLIER_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_SUPPLIER_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_SUPPLIER_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Mt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,setting:null},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SAVE_SETTING_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_SETTING_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_SETTING_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_SETTING_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"GET_SETTING_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",setting:a.data,success:!0});case"GET_SETTING_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_SETTING_PENDING":return Object(E.a)({},e,{fetching:!0});default:return e}},Gt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,sales:null,carts:null},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SALES_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_SALES_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_SALES_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_SALES_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_SALES_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,carts:a.data,type:"save",success:!0});case"SAVE_SALES_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_SALES_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_SALES_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",sales:a.data,success:!0});case"GET_SALES_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_SALES_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_SALES_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_SALES_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_SALES_PENDING":case"TOGGLE_SALES_SUCCESS":return Object(E.a)({},e);case"TOGGLE_SALES_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_SALES_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_SALES_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_SALES_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Kt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,discount:null,selected:null},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_DISCOUNT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_DISCOUNT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,selected:a.selected,success:!0,type:"fetch"});case"FETCH_DISCOUNT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_DISCOUNT_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_DISCOUNT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_DISCOUNT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_DISCOUNT_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_DISCOUNT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",discount:a.data,success:!0});case"GET_DISCOUNT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_DISCOUNT_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_DISCOUNT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_DISCOUNT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_DISCOUNT_PENDING":case"TOGGLE_DISCOUNT_SUCCESS":return Object(E.a)({},e);case"TOGGLE_DISCOUNT_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_DISCOUNT_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_DISCOUNT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_DISCOUNT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});case"SELECT_DISCOUNT_PENDING":return Object(E.a)({},e);case"SELECT_DISCOUNT_SUCCESS":return Object(E.a)({},e,{selected:a.selected});case"SELECT_DISCOUNT_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});default:return e}},Yt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,purchase:null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_PURCHASE_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_PURCHASE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,selected:a.selected,type:"fetch"});case"FETCH_PURCHASE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_PURCHASE_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_PURCHASE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_PURCHASE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_PURCHASE_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_PURCHASE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",purchase:a.data,success:!0});case"GET_PURCHASE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_PURCHASE_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_PURCHASE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_PURCHASE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"TOGGLE_PURCHASE_PENDING":case"TOGGLE_PURCHASE_SUCCESS":return Object(E.a)({},e);case"TOGGLE_PURCHASE_FAILED":return Object(E.a)({},e,{error:a.error,type:"toggle"});case"DELETE_PURCHASE_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_PURCHASE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_PURCHASE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},zt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,expense:null},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_EXPENSE_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_EXPENSE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_EXPENSE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_EXPENSE_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_EXPENSE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"save",success:!0});case"SAVE_EXPENSE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});case"GET_EXPENSE_PENDING":return Object(E.a)({},e,{fetching:!0});case"GET_EXPENSE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"get",expense:a.data,success:!0});case"GET_EXPENSE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"get",success:!1});case"UPDATE_EXPENSE_PENDING":return Object(E.a)({},e,{fetching:!0});case"UPDATE_EXPENSE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,type:"update",success:!0});case"UPDATE_EXPENSE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"update",success:!1});case"DELETE_EXPENSE_PENDING":return Object(E.a)({},e,{fetching:!0});case"DELETE_EXPENSE_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,type:"delete",message:a.message,success:!0});case"DELETE_EXPENSE_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"delete",success:!1});default:return e}},Vt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null,stock:null},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_STOCK_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_STOCK_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_STOCK_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"SAVE_STOCK_PENDING":return Object(E.a)({},e,{fetching:!0});case"SAVE_STOCK_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,message:a.message,carts:a.data,type:"save",success:!0});case"SAVE_STOCK_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.message,type:"save",success:!1});default:return e}},Jt={fetching:!1,fetched:!1,message:null,data:null,error:null,success:null,type:null},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SALES_REPORT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_SALES_REPORT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_SALES_REPORT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"FETCH_PURCHASE_REPORT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_PURCHASE_REPORT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_PURCHASE_REPORT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"FETCH_EXPENSE_REPORT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_EXPENSE_REPORT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_EXPENSE_REPORT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});case"FETCH_STOCK_REPORT_PENDING":return Object(E.a)({},e,{fetching:!0,error:null});case"FETCH_STOCK_REPORT_SUCCESS":return Object(E.a)({},e,{fetching:!1,fetched:!0,data:a.data,success:!0,type:"fetch"});case"FETCH_STOCK_REPORT_FAILED":return Object(E.a)({},e,{fetching:!1,fetched:!0,error:a.error,message:a.error.data.message,success:!1,type:"fetch"});default:return e}},Wt=Object(pt.c)({checkUser:Et,register:ft,login:vt,product:yt,category:St,unit:Ot,role:Tt,permission:xt,user:wt,customer:It,supplier:Lt,setting:Rt,sales:Ft,discount:Ht,purchase:Bt,expense:qt,stock:Xt,report:Qt}),Zt=Object(pt.d)(Wt,Object(pt.a)(gt.a));l.a.render(s.a.createElement(k.a,{store:Zt},s.a.createElement(T.ToastProvider,null,s.a.createElement(ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXFxcX////CwsLGxsb7+/vT09PJycn19fXq6urb29ve3t7w8PDOzs7n5+f5+fnt7e30nlkBAAAFHUlEQVR4nO2dC5qqMAyFMTwUBdz/bq+VYYrKKJCkOfXmXwHna5uTpA+KwnEcx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3EcA2iO9cdIc5PUdO257y+BU39u66b4HplE3fk6VIcnqmNfl1+gksr6+iIucjl3WYukor7+re6Hoe1y1UhNO3zUd+fUFRmKpOa0Tt6dY5ubRCrOG/QFLk1WGmnt/JxzykcjdZ/jyxJDLlOV2l36AtcsJJb9boG3YcR3DuqODIE3ztYKPkDdmwRmpUToUaSaq++AvRgZMWbOpbQW8hdCAm8ZDugoikzREdCJ2okJPBx6azFLNOwoOgcxojJ98JkaTSJxMpklKrCAKhZGI0drTY/wU5lXoJYibannV9NYy4oozNEAkPHTjop+DTDxVGkIgYJNoyQQJtiIW+EMjGAjm649AjGIaqswcEFQKJ2QPlJbqytki6ZXAAZRJ52J2McaUowzAfs+uFzrYhnzaapphiPWdaJWShqxjqa6kTTQ205TVbsfMa6htL0iYOsXpJrQjHSmCkv1QGPtiHqlYcQ21Gj7fcDU8xOEUuNgSltPzexh+HqFlanCBHZ4OLhCV+gK/3OF6vWvucLv98MUOY2pwu/PS/+D2qJU7pYGbOvDFDW+bbON9p3o3oRxn0bfLgZTgSn6pSfrtr56qLHemtHPTK2319SzGvtjQ9qeb39WgS66Cm073nd0U1PzDdJCO3Gzn6TKpl9Zq7ujGWsQhlA3NwWIMwG9zM08Y/tBrR9VWeczv5CSQuuUNKIUTk23ZJ5RKfVhjnkXotfWIlgX2BSCDYbZR+QTcLhb3dKZDUY2M0d4KWItwhHRah/zsrOgKw4wycwjcgEVcgQDQo23CqSiWEJkFAfod2oE1uIFdA1OsCPqFXYNTjCfb8Ez+iX2x5sKLlVbhtqdDcar9ZevhnbZxoBUD35k23t0d304LYs1ELVbnfFaZ/REJJX9niP8Q19moZGo3m8XR/yBvOnjFfsXcI2c8ZuNo7WMP5HQh6yRGrlmFOJTnyTcT+zRlqPUBI2gTVWNUzUna1ERgecgF4GpNBQ38jGqxVLzQA1A31Rrhk6Yz9QEh/WND0GnuG9huhiTXJkxfAizTHLr6cbJKN6UCU6x/2DTRE1xEeEXi3O0ZUqBN4nJRzHhFB1JPlFTBZlI2kQ8zc3KJ1Le8DIRmFJiknuVS6RK4Ej/JtBfJErDSzOBiY4wJHX6Z1I4v1GUmdCPNirnLLeg3oJLcbX5PcpHNbRvOa1A956QmRPOUXVF+zkaUJynpkYR0bOMJH2nNej1pqyV/aKkz9jr5yj5vrXXz1F5SQLACiMapmierj2ikLyleKdlA/I/2oFxiglxx9B+mHwz0lf34IZQfhDRhlD6bhvgEAoPYooHkTczSIZTLC+cEExsoNKZiGBiY9cCfo/Y/SjIOBMQizWWTe73CMUasJx7jlD+DdKdWUKoY4PRYFtGpO0G1Lx4RaadgTtJhf4fiGqGIwKWCGuGIwKWqP+7IxYCzygjR9IAO5pC7Da9g70TBVpWRNgFBlgT8RV2WxHbKwJMv4BOaEaYaU2K16yZMN/qgV+G7IWIvwyZCxHeDQMsR8wg0DBDDXB5H2EV+hkEGmaoySHQsEJNFoGGFWrAq98JRhUMX1iMMMqLLEIpK5jCbd4vw9nSt/72lewXiN6jmdjfq8Hdknlk92ZwJnbIMMRM7JBhiFlUFoHd1UWaP1QKsPsHA5mkNB+Smn9JqV3wskatnQAAAABJRU5ErkJggg=="}},[[161,1,2]]]);
//# sourceMappingURL=main.aad9419e.chunk.js.map